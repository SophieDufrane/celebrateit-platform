{"version":3,"sources":["styles/PostForm.module.css","styles/AuthForm.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/NavBar.js","components/MoreDropdown.js","components/ConfirmDeleteModal.js","components/Avatar.js","components/PostHeader.js","components/PostLayoutShell.js","pages/recognitions/RecognitionCard.js","pages/nominations/NominationCard.js","components/LoadingIndicator.js","components/PeopleSearchBar.js","pages/home/HomeFeedPage.js","components/FormFooter.js","components/PostForm.js","pages/recognitions/CreateRecognitionPage.js","pages/comment/CommentForm.js","pages/comment/Comment.js","pages/comment/CommentEditForm.js","pages/recognitions/RecognitionDetailPage.js","pages/recognitions/UpdateRecognitionPage.js","pages/nominations/CreateNominationPage.js","pages/nominations/NominationDetailPage.js","pages/nominations/UpdateNominationPage.js","pages/profiles/ProfilePage.js","pages/profiles/EditProfileForm.js","assets/auth_pic.jpeg","pages/auth/SignInForm.js","assets/register_pic.jpg","pages/auth/SignUpForm.js","App.js","reportWebVitals.js","index.js","styles/HomeFeedPage.module.css","styles/Profile.module.css","App.module.css","styles/Comment.module.css","styles/PeopleSearchBar.module.css","styles/Avatar.module.css","styles/MoreDropdown.module.css","styles/LoadingIndicator.module.css","styles/PostCard.module.css","styles/NavBar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","removeTokenTimestamp","localStorage","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","currentUserLoaded","setCurrentUserLoaded","history","useHistory","requestInterceptorRef","useRef","responseInterceptorRef","useEffect","async","data","get","err","handleMount","interval","setInterval","then","_ref2","catch","clearInterval","interceptors","request","use","config","token","getItem","Promise","reject","current","isRefreshing","_isRefreshing","setItem","access","common","userData","prevUser","push","response","_err$response","status","Authorization","console","warn","eject","_jsx","Provider","value","NavBar","expanded","setExpanded","Navbar","className","styles","expand","fixed","onToggle","prev","_jsxs","Container","Brand","as","NavLink","to","first_name","username","Toggle","Collapse","id","Nav","Link","exact","onClick","_Fragment","profile_id","window","location","assign","handleSignOut","ThreeDots","React","forwardRef","ref","DropdownToggle","e","preventDefault","role","MoreDropdown","handleEdit","handleDelete","Dropdown","align","Menu","Item","DropdownItem","ConfirmDeleteModal","show","onHide","onConfirm","message","Modal","centered","Header","closeButton","Title","Body","Footer","Button","variant","optimizeCloudinaryURL","url","width","arguments","length","undefined","height","includes","replace","Avatar","props","src","alt","size","last_name","avatarSize","dimension","sm","md","lg","avatarAlt","loading","fetchpriority","AvatarFallback","toUpperCase","PostHeader","profile_image","display_name","created_at","renderDropdown","PostHeaderWrapper","HeaderLeft","AvatarWithName","PostLayoutShell","title","content","user","postActions","extraContent","linkTo","metaTop","cardBody","Card","InteractiveNameLink","MetaTopWrapper","PostTitle","PostContent","ViewFullWrapper","PostChildren","CardWrapper","style","textDecoration","color","RecognitionCard","image","likes_count","comments_count","like_id","setRecognitions","onPostDelete","detailUrl","editUrl","deleteUrl","showConfirm","setShowConfirm","truncatedContent","slice","lastIndexOf","PostFooter","ActionItem","is_user","OverlayTrigger","placement","overlay","Tooltip","DisabledIcon","delete","map","item","Clickable","Heart","HeartOutline","InteractiveTextLink","ImageWrapper","PostImage","NominationCard","nominee_profile_id","nominee_display_name","nominee","tag","tag_color","NominationMeta","Tag","backgroundColor","LoadingIndicator","LoaderWrapper","Spinner","Message","PeopleSearchBar","onUserSelect","enableSelectionDisplay","prefillValue","placeholderText","input","setInput","results","setResults","delayDebounce","setTimeout","trim","clearTimeout","Form","Control","type","placeholder","onChange","target","autoComplete","suggestionBox","suggestionItem","fullName","handleSelect","HomeFeedPage","useLocation","showDeleted","setShowDeleted","showNominations","setShowNominations","hasLoaded","setHasLoaded","searchTerm","setSearchTerm","selectedDepartment","setSelectedDepartment","recognitions","nominations","setNominations","people","setPeople","isDeletedParam","URLSearchParams","search","timer","res","finally","Alert","onClose","dismissible","Row","Col","feedStyles","FeedContent","FeedToggleButtons","FeedButton","FeedToggleInactive","FeedToggleActive","nom","nominator","setPosts","deletedId","prevNoms","filter","n","r","SidebarWrapper","SearchFilterBlock","MobileOnly","FilterInput","DesktopOnly","FilterSelect","Set","p","department","Boolean","dept","PeopleList","person","matchesName","toLowerCase","matchesDepartment","ListGroup","PersonItem","cursor","PersonContent","FormFooter","submitText","onCancel","disabled","showCancel","formStyles","FormButtonRow","sharedStyles","YellowButton","BlueButton","goBack","PostForm","_errors$title","_errors$content","handleChange","handleSubmit","errors","onSubmit","FormWrapper","Group","controlId","FormGroupSpacing","name","Array","isArray","idx","rows","CreateRecognitionPage","recognitionData","setRecognitionData","setErrors","event","files","prevErrors","file","alert","formData","FormData","append","currentUserData","_err$response2","FormMediaWrapper","AllowedFormats","CommentForm","postId","onCommentSubmit","setContent","isValidComment","Comment","comment","setEditingComment","setShowDeleteModal","SingleComment","CommentAuthor","CommentText","CommentDate","CommentEditForm","setComments","patch","prevComments","c","pathname","RecognitionDetailPage","useParams","recognition","setRecognition","comments","showCommentSuccess","setShowCommentSuccess","editingComment","showDeleteModal","searchParams","isCreated","isUpdated","commentEdited","commentDeleted","showSuccess","successMessage","error","dropdownMenu","newComment","LoginToComment","commentStyles","CommentSection","CommentBlock","UpdateRecognitionPage","removeImage","setRemoveImage","FormImagePreview","Check","label","checked","Label","htmlFor","CreateNominationPage","nominationData","setNominationData","selectedNomineeId","setSelectedNomineeId","nomineeNameParam","setNomineeNameParam","tags","setTags","fetchTags","queryParams","prefillId","prefillName","log","isNaN","parseInt","prevData","_currentUser$currentU","localErrors","pk","serverErrors","handleCancel","peopleSearchStyles","FullWidthNomineeSearch","FullWidthInput","tagObj","NominationDetailPage","nomination","setNomination","cleanUrl","padding","borderRadius","fontSize","UpdateNominationPage","postData","setPostData","t","ProfilePage","scrollTo","showUpdated","setShowUpdated","profile","setProfile","hasLoadedProfile","setHasLoadedProfile","hasLoadedRecognitions","setHasLoadedRecognitions","hasLoadedNominations","setHasLoadedNominations","fetchProfile","isCoreInfoMissing","isOptionalInfoMissing","presentation","profileStyles","ProfileWrapper","Banner","AvatarWrapper","ProfileDetails","NameRow","is_user_profile","EditIcon","hasFullName","fallback","param","encodeURIComponent","IncompleteNote","Department","Bio","TwoColumnFeed","FeedColumn","SectionTitlePurple","SectionTitleYellow","nominee_username","EditProfileForm","firstName","setFirstName","lastName","setLastName","setPresentation","imageFile","setImageFile","ReadOnlyWrapper","ReadOnlyInput","readOnly","tabIndex","msg","SignInForm","setShowSuccess","showLogout","setShowLogout","signInData","setSignInData","password","loginErrors","setLoginErrors","authStyles","gradient","gradientOverlay","splitBox","formBox","AuthTitle","Object","keys","ErrorBox","values","flat","index","access_token","refresh_token","refreshTokenTimestamp","jwtDecode","exp","setTokenTimestamp","CenteredButton","AuthLink","AuthLinkHighlight","imageBox","authPic","AuthImage","SignUpForm","signUpData","setSignUpData","password1","password2","registerPic","App","Main","Switch","Route","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","document","getElementById"],"mappings":"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","file":"static/js/main.67cea2a3.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormWrapper\":\"PostForm_FormWrapper__36o49\",\"FormGroupSpacing\":\"PostForm_FormGroupSpacing__2YMOe\",\"FormButtonRow\":\"PostForm_FormButtonRow__ISUGS\",\"FormMediaWrapper\":\"PostForm_FormMediaWrapper__3Ey43\",\"FormImagePreview\":\"PostForm_FormImagePreview__2Oka5\",\"CurrentImage\":\"PostForm_CurrentImage__3gjY8\",\"RemoveImageCheckbox\":\"PostForm_RemoveImageCheckbox__2Gu0U\",\"AllowedFormats\":\"PostForm_AllowedFormats__3jCo-\",\"SuggestionBox\":\"PostForm_SuggestionBox__34k9g\",\"SuggestionItem\":\"PostForm_SuggestionItem__2asAs\",\"ReadOnlyWrapper\":\"PostForm_ReadOnlyWrapper__23vz9\",\"ReadOnlyInput\":\"PostForm_ReadOnlyInput__32TL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gradient\":\"AuthForm_gradient__4bNq5\",\"gradientOverlay\":\"AuthForm_gradientOverlay__1aP-S\",\"splitBox\":\"AuthForm_splitBox__3Qoc9\",\"formBox\":\"AuthForm_formBox__2Tlgu\",\"imageBox\":\"AuthForm_imageBox__1jRNM\",\"FormWrapper\":\"AuthForm_FormWrapper__2_2G7\",\"FormGroupSpacing\":\"AuthForm_FormGroupSpacing__2YsuF\",\"CenteredButton\":\"AuthForm_CenteredButton__mPhxp\",\"AuthTitle\":\"AuthForm_AuthTitle__tI1Xj\",\"AuthLink\":\"AuthForm_AuthLink__2nuPw\",\"AuthLinkHighlight\":\"AuthForm_AuthLinkHighlight__2veRz\",\"ErrorBox\":\"AuthForm_ErrorBox__2o8wb\",\"AuthImage\":\"AuthForm_AuthImage__1OpaW\"};","import axios from \"axios\";\n\naxios.defaults.baseURL = \"/api\";\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\naxios.defaults.withCredentials = true;\n\nexport const axiosReq = axios.create();\nexport const axiosRes = axios.create();\n","import jwtDecode from \"jwt-decode\";\nimport { axiosReq } from \"../api/axiosDefaults\";\n\n// Fetch next page of paginated data and merge with existing resource state\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    const { data } = await axiosReq.get(resource.next);\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce(\n        (acc, cur) =>\n          acc.some((accResult) => accResult.id === cur.id)\n            ? acc\n            : [...acc, cur],\n        prevResource.results\n      ),\n    }));\n  } catch (err) {\n    // TODO: add user feedback or logging on fetch error\n  }\n};\n\n// Store refresh token expiry timestamp in localStorage\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\n// Check if refresh token timestamp exists to determine if token should be refreshed\nexport const shouldRefreshToken = () =>\n  !!localStorage.getItem(\"refreshTokenTimestamp\");\n\n// Remove refresh token timestamp from localStorage on logout or token invalidation\nexport const removeTokenTimestamp = () => {\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n","import { createContext, useContext, useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\n// Contexts\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\n// Custom hooks\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\n// Provider component\nexport function CurrentUserProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [currentUserLoaded, setCurrentUserLoaded] = useState(false);\n  const history = useHistory();\n\n  // PATCH 8: Track interceptor IDs so we can eject them on cleanup\n  const requestInterceptorRef = useRef(null);\n  const responseInterceptorRef = useRef(null);\n\n  // PATCH 0: Initial fetch of current user\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\n      setCurrentUser(data);\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setCurrentUserLoaded(true);\n    }\n  };\n\n  // PATCH 5: Soft-ping user endpoint every 5 minutes\n  useEffect(() => {\n    handleMount();\n    const interval = setInterval(() => {\n      axiosRes\n        .get(\"/dj-rest-auth/user/\")\n        .then(({ data }) => {\n          setCurrentUser(data);\n        })\n        .catch(() => {});\n    }, 5 * 60 * 1000);\n\n    return () => clearInterval(interval);\n  }, []);\n\n  // PATCHES 110: Token attachment, refresh logic, auto-logout, cleanup\n  useEffect(() => {\n    // PATCH 1: Attach access token if logged in\n    axiosReq.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem(\"access_token\");\n\n        // PATCH 10: Prevent ghost token usage if user is logged out\n        if (token && currentUser) {\n          config.headers[\"Authorization\"] = `Bearer ${token}`;\n        } else {\n          delete config.headers[\"Authorization\"];\n        }\n        return config;\n      },\n      (err) => Promise.reject(err)\n    );\n\n    // PATCH 2: Attempt token refresh if needed\n    requestInterceptorRef.current = axiosReq.interceptors.request.use(\n      async (config) => {\n        const isRefreshing = config._isRefreshing;\n        if (!localStorage.getItem(\"refresh_token\")) {\n          return config;\n        }\n        if (shouldRefreshToken() && !isRefreshing) {\n          try {\n            const { data } = await axios.post(\"/dj-rest-auth/token/refresh/\");\n            localStorage.setItem(\"access_token\", data.access);\n            axiosReq.defaults.headers.common[\n              \"Authorization\"\n            ] = `Bearer ${data.access}`;\n\n            // PATCH 7: Rehydrate user context only if missing\n            if (!currentUser) {\n              const { data: userData } = await axiosRes.get(\n                \"/dj-rest-auth/user/\"\n              );\n              setCurrentUser(userData);\n            }\n          } catch (err) {\n            // PATCH 3: Token refresh failed  logout user\n            setCurrentUser((prevUser) => {\n              if (prevUser) history.push(\"/signin\");\n              return null;\n            });\n            removeTokenTimestamp();\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            return config;\n          }\n        }\n        return config;\n      },\n      (err) => Promise.reject(err)\n    );\n\n    // PATCH 4 + 6: Intercept 401s  refresh token  rehydrate  retry\n    responseInterceptorRef.current = axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            const { data } = await axios.post(\"/dj-rest-auth/token/refresh/\");\n            localStorage.setItem(\"access_token\", data.access);\n            axiosReq.defaults.headers.common[\n              \"Authorization\"\n            ] = `Bearer ${data.access}`;\n            err.config.headers = {\n              ...err.config.headers,\n              Authorization: `Bearer ${data.access}`,\n            };\n\n            const { data: userData } = await axiosRes.get(\n              \"/dj-rest-auth/user/\"\n            );\n            setCurrentUser(userData);\n\n            // Retry original request\n            return axiosReq(err.config);\n          } catch (err) {\n            // PATCH 3 (continued): Force logout on token failure\n            console.warn(\"TOKEN REFRESH FAILED  Forcing logout.\");\n            setCurrentUser((prevUser) => {\n              if (prevUser) history.push(\"/signin\");\n              return null;\n            });\n            removeTokenTimestamp();\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            return Promise.reject(err);\n          }\n        }\n        return Promise.reject(err);\n      }\n    );\n\n    // PATCH 9: Cleanup interceptors on unmount\n    return () => {\n      if (requestInterceptorRef.current !== null) {\n        axiosReq.interceptors.request.eject(requestInterceptorRef.current);\n      }\n      if (responseInterceptorRef.current !== null) {\n        axiosRes.interceptors.response.eject(responseInterceptorRef.current);\n      }\n    };\n  }, [history, currentUser]);\n\n  return (\n    <CurrentUserContext.Provider value={{ currentUser, currentUserLoaded }}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"../styles/NavBar.module.css\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\n\n// NavBar: Top navigation bar with auth-aware links\nfunction NavBar() {\n  // Auth context\n  const { currentUser, currentUserLoaded } = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  // Navbar Toggle State\n  const [expanded, setExpanded] = useState(false);\n\n  // Handlers\n  const handleSignOut = async () => {\n    try {\n      await axiosReq.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"refresh_token\");\n\n      // full reset to avoid ghost state but land on login page\n      window.location.assign(\"/login?loggedOut=true\");\n    } catch (err) {\n      // TODO: add user feedback on error\n    }\n  };\n\n  return (\n    <Navbar\n      className={styles.Navbar}\n      expand=\"md\"\n      fixed=\"top\"\n      expanded={expanded}\n      onToggle={() => setExpanded((prev) => !prev)}\n    >\n      <Container>\n        <Navbar.Brand as={NavLink} to=\"/\">\n          CelebrateIt{\" \"}\n          {currentUser?.first_name || currentUser?.username\n            ? `| ${currentUser.first_name || currentUser.username}`\n            : \"\"}\n        </Navbar.Brand>\n        <Navbar.Toggle\n          aria-controls=\"basic-navbar-nav\"\n          className=\"custom-toggler\"\n          aria-label=\"Toggle navigation\"\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-left\">\n            <Nav.Link\n              as={NavLink}\n              exact\n              to=\"/\"\n              onClick={() => setExpanded(false)}\n            >\n              Home\n            </Nav.Link>\n\n            {currentUser && currentUser ? (\n              <>\n                <NavLink\n                  to=\"/recognitions/create\"\n                  className=\"nav-link\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Recognize\n                </NavLink>\n                <NavLink\n                  to=\"/nominations/create\"\n                  className=\"nav-link\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Nominate\n                </NavLink>\n                {currentUser.profile_id && (\n                  <NavLink\n                    to={`/profiles/${currentUser.profile_id}`}\n                    className=\"nav-link\"\n                    onClick={() => setExpanded(false)}\n                  >\n                    Profile\n                  </NavLink>\n                )}\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/\"\n                  onClick={() => {\n                    setExpanded(false);\n                    handleSignOut();\n                  }}\n                >\n                  Logout\n                </Nav.Link>\n              </>\n            ) : currentUserLoaded ? (\n              <>\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/login\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Log In\n                </Nav.Link>\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/register\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Register\n                </Nav.Link>\n              </>\n            ) : null}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport default NavBar;\n","import React from \"react\";\nimport { Dropdown } from \"react-bootstrap\";\nimport styles from \"../styles/MoreDropdown.module.css\";\n\n// Custom toggle icon for dropdown menu (3 vertical dots)\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className={`fas fa-ellipsis-v ${styles.DropdownToggle}`}\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n    role=\"button\"\n    aria-label=\"More options\"\n  />\n));\n\n// MoreDropdown: shows edit/delete actions for a post or comment\nfunction MoreDropdown({ handleEdit, handleDelete }) {\n  return (\n    <Dropdown align=\"end\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu>\n        {handleEdit && (\n          <Dropdown.Item className={styles.DropdownItem} onClick={handleEdit}>\n            <i className=\"fas fa-edit\" />\n            Edit\n          </Dropdown.Item>\n        )}\n        {handleDelete && (\n          <Dropdown.Item className={styles.DropdownItem} onClick={handleDelete}>\n            <i className=\"fas fa-trash-alt\" />\n            Delete\n          </Dropdown.Item>\n        )}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n\nexport default MoreDropdown;\n","import React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nfunction ConfirmDeleteModal({\n  show,\n  onHide,\n  onConfirm,\n  message = 'Are you sure you want to delete this?',\n}) {\n  return (\n    <Modal show={show} onHide={onHide} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Confirm Deletion</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>{message}</Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onHide}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" onClick={onConfirm}>\n          Delete\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default ConfirmDeleteModal;\n","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\n// Helper to optimize image format, quality, and size for performance\r\nfunction optimizeCloudinaryURL(url, width = 100, height = 100) {\r\n  if (!url || !url.includes(\"res.cloudinary.com\")) return url;\r\n  return url.replace(\r\n    \"/upload/\",\r\n    `/upload/f_auto,q_auto,w_${width},h_${height},c_fill/`\r\n  );\r\n}\r\n\r\nfunction Avatar(props) {\r\n  // Props and defaults\r\n  const { src, alt, size, first_name, last_name, username } = props;\r\n  const avatarSize = size || \"md\";\r\n  const sizeMap = {\r\n    sm: 80,\r\n    md: 200,\r\n    lg: 400,\r\n  };\r\n  const dimension = sizeMap[avatarSize] || 100;\r\n  const avatarAlt = alt || \"avatar\";\r\n\r\n  // Helpers\r\n  const getInitials = () => {\r\n    if (first_name && last_name) {\r\n      return `${first_name[0]}${last_name[0]}`.toUpperCase();\r\n    }\r\n    if (first_name) {\r\n      return first_name[0].toUpperCase();\r\n    }\r\n    if (last_name) {\r\n      return last_name[0].toUpperCase();\r\n    }\r\n    if (username) {\r\n      return username[0].toUpperCase();\r\n    }\r\n    return \"?\";\r\n  };\r\n\r\n  return src ? (\r\n    <img\r\n      src={optimizeCloudinaryURL(src, dimension, dimension)}\r\n      loading=\"eager\"\r\n      fetchpriority=\"high\"\r\n      alt={avatarAlt}\r\n      width={dimension}\r\n      height={dimension}\r\n      className={`${styles.Avatar} ${styles[avatarSize]}`}\r\n    />\r\n  ) : (\r\n    <div className={`${styles.AvatarFallback} ${styles[avatarSize]}`}>\r\n      {getInitials()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\nimport Avatar from \"./Avatar\";\nimport styles from \"../styles/PostCard.module.css\";\n\n// PostHeader: Shared header for recognitions and nominations\nfunction PostHeader(props) {\n  const {\n    profile_image,\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    created_at,\n    renderDropdown,\n  } = props;\n\n  return (\n    <div className={styles.PostHeaderWrapper}>\n      <div className={styles.HeaderLeft}>\n        <div className={styles.AvatarWithName}>\n          <Avatar\n            src={profile_image}\n            first_name={first_name}\n            last_name={last_name}\n            username={username}\n            size=\"md\"\n          />\n          <strong>{display_name}</strong>\n        </div>\n      </div>\n      <div className=\"d-flex align-items-center\">\n        <small className=\"text-muted me-2\">{created_at}</small>\n        {renderDropdown}\n      </div>\n    </div>\n  );\n}\n\nexport default PostHeader;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card } from \"react-bootstrap\";\nimport styles from \"../styles/PostCard.module.css\";\nimport PostHeader from \"./PostHeader\";\n\n// PostLayoutShell: Shared layout wrapper for recognitions and nominations\nfunction PostLayoutShell(props) {\n  const {\n    title,\n    content,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    created_at,\n    renderDropdown,\n    postActions,\n    children,\n    extraContent,\n    linkTo,\n    metaTop,\n  } = props;\n\n  // Main card content (used with or without wrapping <Link>)\n  const cardBody = (\n    <Card.Body>\n      <PostHeader\n        display_name={\n          profile_id ? (\n            <Link\n              to={`/profiles/${profile_id}`}\n              className={styles.InteractiveNameLink}\n            >\n              {display_name}\n            </Link>\n          ) : (\n            display_name\n          )\n        }\n        profile_image={profile_image}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        created_at={created_at}\n        renderDropdown={renderDropdown}\n      />\n      {/* Optional metadata above title (e.g. nominee & tag for nominations) */}\n      {metaTop && <div className={styles.MetaTopWrapper}>{metaTop}</div>}\n\n      {/* Title and content (always shown) */}\n      <h5 className={styles.PostTitle}>{title}</h5>\n      <p className={styles.PostContent}>{content}</p>\n\n      {/* Optional extra content (e.g. 'View full post' link) */}\n      {extraContent && (\n        <div className={styles.ViewFullWrapper}>{extraContent}</div>\n      )}\n\n      {/* Optional detailed content (e.g. comments section on detail page) */}\n      {children && <div className={styles.PostChildren}>{children}</div>}\n    </Card.Body>\n  );\n\n  return (\n    <Card className={`mb-3 ${styles.CardWrapper}`}>\n      {linkTo ? (\n        <Link to={linkTo} style={{ textDecoration: \"none\", color: \"inherit\" }}>\n          {cardBody}\n        </Link>\n      ) : (\n        cardBody\n      )}\n\n      {/* Like and Comment section */}\n      {postActions}\n    </Card>\n  );\n}\n\nexport default PostLayoutShell;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\n\n// RecognitionCard: Displays a recognition post with edit/delete options if owned\nfunction RecognitionCard(props) {\n  const {\n    id,\n    title,\n    content,\n    image,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    created_at,\n    likes_count,\n    comments_count,\n    like_id,\n    setRecognitions,\n    onPostDelete,\n    detailUrl = `/recognitions/${id}`,\n    editUrl = `/recognitions/${id}/edit`,\n    deleteUrl = `/posts/${id}/`,\n  } = props;\n\n  // Auth and navigation\n  const { currentUser, currentUserLoaded } = useCurrentUser();\n  const history = useHistory();\n\n  // Local UI State\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // Avoid rendering before auth loads\n  if (!currentUserLoaded) return null;\n\n  // Truncate content for preview\n  const truncatedContent =\n    content.length > 150\n      ? `${content.slice(0, content.slice(0, 150).lastIndexOf(\" \"))}...`\n      : content;\n\n  // Handlers\n  const handleLike = async () => {\n    try {\n      const { data } = await axiosRes.post(\"/likes/\", {\n        post: id,\n      });\n\n      setRecognitions((prev) =>\n        prev.map((item) =>\n          item.id === id\n            ? { ...item, likes_count: item.likes_count + 1, like_id: data.id }\n            : item\n        )\n      );\n    } catch (err) {\n      // TODO: handle like failure (e.g., notify user)\n    }\n  };\n\n  const handleUnlike = async () => {\n    try {\n      await axiosRes.delete(`/likes/${like_id}/`);\n\n      setRecognitions((prev) =>\n        prev.map((item) =>\n          item.id === id\n            ? { ...item, likes_count: item.likes_count - 1, like_id: null }\n            : item\n        )\n      );\n    } catch (err) {\n      // TODO: handle unlike failure (e.g., notify user)\n    }\n  };\n\n  const handleDelete = () => setShowConfirm(true);\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(deleteUrl);\n      if (onPostDelete) {\n        onPostDelete(id);\n      }\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  // Footer section with likes and comments\n  const postActions = (\n    <div className={styles.PostFooter}>\n      <div className={styles.ActionItem}>\n        {props.is_user ? (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-self-like-${id}`}>\n                Can't like your own recognition!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"You can't like your own recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        ) : like_id ? (\n          <span\n            onClick={handleUnlike}\n            className={`${styles.ActionItem} ${styles.Clickable}`}\n            aria-label=\"Unlike this recognition\"\n          >\n            <i\n              className={`fas fa-thumbs-up ${styles.Heart} ${styles.Clickable}`}\n            />\n          </span>\n        ) : currentUser ? (\n          <span\n            onClick={handleLike}\n            className={`${styles.ActionItem} ${styles.Clickable}`}\n            aria-label=\"Like this recognition\"\n          >\n            <i\n              className={`far fa-thumbs-up ${styles.HeartOutline} ${styles.Clickable}`}\n            />\n          </span>\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-login-like-${id}`}>\n                Log in to like recognitions!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"Log in to like this recognition\"\n              role=\"button\"\n              aria-disabled=\"true\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        )}\n        <span>{likes_count}</span>\n      </div>\n\n      {/* Link to comments section with comment count */}\n      <Link\n        to={`/recognitions/${id}`}\n        className={`${styles.ActionItem} ${styles.Clickable}`}\n      >\n        <i className=\"far fa-comment\" />\n        <span>{comments_count}</span>\n      </Link>\n    </div>\n  );\n\n  return (\n    <>\n      <PostLayoutShell\n        title={title}\n        content={truncatedContent}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        display_name={display_name}\n        profile_image={profile_image}\n        profile_id={profile_id}\n        created_at={created_at}\n        likes_count={likes_count}\n        comments_count={comments_count}\n        renderDropdown={\n          props.is_user && (\n            <MoreDropdown\n              handleEdit={() => history.push(editUrl)}\n              handleDelete={handleDelete}\n            />\n          )\n        }\n        postActions={postActions}\n        extraContent={\n          <Link to={detailUrl} className={styles.InteractiveTextLink}>\n            View full recognition\n          </Link>\n        }\n      >\n        {/* Optional image */}\n        {image && (\n          <div className={styles.ImageWrapper}>\n            <img src={image} alt={title} className={styles.PostImage} />\n          </div>\n        )}\n      </PostLayoutShell>\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </>\n  );\n}\n\nexport default RecognitionCard;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\n\n// NominationCard: Displays a nomination post with edit/delete options if owned\nfunction NominationCard(props) {\n  const {\n    id,\n    title,\n    content,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    nominee_profile_id,\n    created_at,\n    nominee_display_name: nominee,\n    tag,\n    tag_color,\n    onPostDelete,\n    detailUrl = `/nominations/${id}`,\n    editUrl = `/nominations/${id}/edit`,\n    deleteUrl = `/nominations/${id}/`,\n  } = props;\n\n  // Auth and navigation\n  const { currentUserLoaded } = useCurrentUser();\n  const history = useHistory();\n\n  // Local UI State\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // Avoid rendering before auth loads\n  if (!currentUserLoaded) return null;\n\n  // Truncate content for preview\n  const truncatedContent =\n    content.length > 150\n      ? `${content.slice(0, content.slice(0, 150).lastIndexOf(\" \"))}...`\n      : content;\n\n  // Handlers\n  const handleDelete = () => setShowConfirm(true);\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(deleteUrl);\n      if (onPostDelete) {\n        onPostDelete(id);\n      }\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  return (\n    <>\n      <PostLayoutShell\n        title={title}\n        content={truncatedContent}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        display_name={display_name}\n        profile_image={profile_image}\n        profile_id={profile_id}\n        nominee_profile_id={nominee_profile_id}\n        created_at={created_at}\n        renderDropdown={\n          props.is_user && (\n            <MoreDropdown\n              handleEdit={() => history.push(editUrl)}\n              handleDelete={handleDelete}\n            />\n          )\n        }\n        metaTop={\n          nominee &&\n          tag && (\n            <p className={styles.NominationMeta}>\n              {nominee_profile_id ? (\n                <Link\n                  to={`/profiles/${nominee_profile_id}`}\n                  className={styles.InteractiveNameLink}\n                >\n                  <strong>{nominee}</strong>\n                </Link>\n              ) : (\n                <strong>{nominee}</strong>\n              )}{\" \"}\n              was nominated by <strong>{display_name}</strong>{\" \"}\n              <span\n                className={styles.Tag}\n                style={{ backgroundColor: tag_color }}\n              >\n                {tag}\n              </span>\n            </p>\n          )\n        }\n        extraContent={\n          <Link to={detailUrl} className={styles.InteractiveTextLink}>\n            View full nomination\n          </Link>\n        }\n      />\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </>\n  );\n}\n\nexport default NominationCard;\n","import React from \"react\";\nimport styles from \"../styles/LoadingIndicator.module.css\";\n\n// LoadingIndicator: Shows a spinner and optional message while waiting for data\nfunction LoadingIndicator({ message = \"Loading...\" }) {\n  return (\n    <div className={styles.LoaderWrapper} role=\"status\" aria-live=\"polite\">\n      <div className={styles.Spinner} />\n      <p className={styles.Message}>{message}</p>\n    </div>\n  );\n}\n\nexport default LoadingIndicator;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { axiosReq } from \"../api/axiosDefaults\";\r\nimport styles from \"../styles/PeopleSearchBar.module.css\";\r\n\r\n// PeopleSearchBar: Controlled input with live user search and optional selection\r\nfunction PeopleSearchBar({\r\n  onUserSelect,\r\n  className = \"\",\r\n  enableSelectionDisplay = false,\r\n  prefillValue = \"\",\r\n  placeholderText = \"Search people...\",\r\n}) {\r\n  // Input state\r\n  const [input, setInput] = useState(prefillValue);\r\n  useEffect(() => {\r\n    if (enableSelectionDisplay && prefillValue) {\r\n      setInput(prefillValue);\r\n    }\r\n  }, [prefillValue, enableSelectionDisplay]);\r\n\r\n  // Search results\r\n  const [results, setResults] = useState([]);\r\n\r\n  // Fetch users as input changes\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      if (!input.trim()) {\r\n        setResults([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const { data } = await axiosReq.get(`/users/?search=${input}`);\r\n        setResults(data.results);\r\n      } catch (err) {\r\n        // TODO: add user feedback on error\r\n        setResults([]);\r\n      }\r\n    };\r\n\r\n    const delayDebounce = setTimeout(fetchUsers, 500);\r\n    return () => clearTimeout(delayDebounce);\r\n  }, [input]);\r\n\r\n  // Handlers\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSelect = (user) => {\r\n    const fullName =\r\n      `${user.first_name} ${user.last_name}`.trim() || user.username;\r\n\r\n    if (enableSelectionDisplay) {\r\n      setInput(fullName);\r\n    }\r\n\r\n    setResults([]);\r\n    onUserSelect(user);\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Form.Control\r\n        type=\"text\"\r\n        placeholder={placeholderText}\r\n        value={input}\r\n        onChange={handleChange}\r\n        autoComplete=\"off\"\r\n        aria-label={placeholderText || \"Search for a user by name\"}\r\n      />\r\n      <div className={styles.suggestionBox}>\r\n        {results.map((user) => (\r\n          <div\r\n            key={user.id}\r\n            className={styles.suggestionItem}\r\n            onClick={() => handleSelect(user)}\r\n          >\r\n            {user.first_name || user.last_name\r\n              ? `${user.first_name} ${user.last_name}`.trim()\r\n              : user.username}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PeopleSearchBar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { Button, Container, Row, Col, ListGroup, Alert } from \"react-bootstrap\";\r\nimport RecognitionCard from \"../recognitions/RecognitionCard\";\r\nimport NominationCard from \"../nominations/NominationCard\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\r\nimport PeopleSearchBar from \"../../components/PeopleSearchBar\";\r\nimport feedStyles from \"../../styles/HomeFeedPage.module.css\";\r\n\r\n// HomeFeedPage: Displays recognition stories and nominations feed with filters and people list sidebar\r\nfunction HomeFeedPage() {\r\n  // Routing and Location\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  // PATCH 8: Auth context for re-render and data access\r\n  const { currentUserLoaded } = useCurrentUser();\r\n\r\n  // UI State\r\n  const [showDeleted, setShowDeleted] = useState(false);\r\n  const [showNominations, setShowNominations] = useState(false);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedDepartment, setSelectedDepartment] = useState(\"\");\r\n\r\n  // Data State\r\n  const [recognitions, setRecognitions] = useState([]);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [people, setPeople] = useState([]);\r\n\r\n  // Show deletion alert based on URL query param\r\n  useEffect(() => {\r\n    const isDeletedParam =\r\n      new URLSearchParams(location.search).get(\"deleted\") === \"true\";\r\n    setShowDeleted(isDeletedParam);\r\n  }, [location.search]);\r\n\r\n  // Automatically hide the alert after 4 seconds\r\n  useEffect(() => {\r\n    if (showDeleted) {\r\n      const timer = setTimeout(() => setShowDeleted(false), 4000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showDeleted]);\r\n\r\n  // Fetch Posts (recognitions) data\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/posts/\")\r\n      .then((res) => setRecognitions(res.data.results))\r\n      .catch((err) => {\r\n        // TODO: add user feedback on error\r\n      })\r\n      .finally(() => setHasLoaded(true));\r\n  }, []);\r\n\r\n  // Fetch Nomiations data\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/nominations/\")\r\n      .then((res) => setNominations(res.data.results))\r\n      .catch((err) => {\r\n        // TODO: add user feedback on error\r\n      });\r\n  }, []);\r\n\r\n  // Fetch People/Profiles\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/user-profiles/\")\r\n      .then((res) => setPeople(res.data.results || res.data))\r\n      .catch((err) => {\r\n        // TODO: add user feedback on error\r\n      });\r\n  }, []);\r\n\r\n  // PATCH 8: Prevent rendering before currentUser is loaded\r\n  if (!currentUserLoaded) return <LoadingIndicator message=\"Loading...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      {showDeleted && (\r\n        <Alert\r\n          variant=\"success\"\r\n          onClose={() => setShowDeleted(false)}\r\n          dismissible\r\n        >\r\n          The post has been deleted successfully.\r\n        </Alert>\r\n      )}\r\n\r\n      <Row>\r\n        {/* Left Column - Feed and toggle buttons */}\r\n        <Col md={8}>\r\n          <div className={feedStyles.FeedContent}>\r\n            {/* Feed Toggle Buttons */}\r\n            <div className={feedStyles.FeedToggleButtons}>\r\n              <Button\r\n                variant=\"none\"\r\n                className={`${feedStyles.FeedButton} ${\r\n                  !showNominations\r\n                    ? feedStyles.FeedToggleActive\r\n                    : feedStyles.FeedToggleInactive\r\n                }`}\r\n                onClick={() => setShowNominations(false)}\r\n              >\r\n                Recognition Stories\r\n              </Button>\r\n              <Button\r\n                variant=\"none\"\r\n                className={`${feedStyles.FeedButton} ${\r\n                  showNominations\r\n                    ? feedStyles.FeedToggleActive\r\n                    : feedStyles.FeedToggleInactive\r\n                }`}\r\n                onClick={() => setShowNominations(true)}\r\n              >\r\n                Nominations\r\n              </Button>\r\n            </div>\r\n\r\n            {/* Feed content */}\r\n            {hasLoaded ? (\r\n              <>\r\n                {!showNominations ? (\r\n                  recognitions.length ? (\r\n                    recognitions.map((post) => (\r\n                      <RecognitionCard\r\n                        key={`post-${post.id}`}\r\n                        {...post}\r\n                        user={post.user}\r\n                        setRecognitions={setRecognitions}\r\n                        onPostDelete={(deletedId) =>\r\n                          setRecognitions((prev) =>\r\n                            prev.filter((r) => r.id !== deletedId)\r\n                          )\r\n                        }\r\n                      />\r\n                    ))\r\n                  ) : (\r\n                    <div>No recognitions yet</div>\r\n                  )\r\n                ) : nominations.length ? (\r\n                  nominations.map((nom) => (\r\n                    <NominationCard\r\n                      key={`nom-${nom.id}`}\r\n                      {...nom}\r\n                      nominator={nom.nominator}\r\n                      setPosts={setNominations}\r\n                      onPostDelete={(deletedId) =>\r\n                        setNominations((prevNoms) =>\r\n                          prevNoms.filter((n) => n.id !== deletedId)\r\n                        )\r\n                      }\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <div>No nominations yet</div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <LoadingIndicator message=\"Loading feed...\" />\r\n            )}\r\n          </div>\r\n        </Col>\r\n\r\n        {/* Right Column - Search/filter sidebar */}\r\n        <Col md={4} className={feedStyles.SidebarWrapper}>\r\n          <div className={feedStyles.SearchFilterBlock}>\r\n            {/* Mobile-only PeopleSearchBar */}\r\n            <PeopleSearchBar\r\n              className={feedStyles.MobileOnly}\r\n              onUserSelect={(user) => {\r\n                history.push(`/profiles/${user.id}`);\r\n              }}\r\n            />\r\n\r\n            {/* Desktop search input */}\r\n            <input\r\n              type=\"text\"\r\n              className={`${feedStyles.FilterInput} ${feedStyles.DesktopOnly}`}\r\n              placeholder=\"Search people...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            {/* Department filter dropdown */}\r\n            <select\r\n              className={`${feedStyles.FilterSelect} ${feedStyles.DesktopOnly}`}\r\n              value={selectedDepartment}\r\n              onChange={(e) => setSelectedDepartment(e.target.value)}\r\n              aria-label=\"Filter by department\"\r\n            >\r\n              <option value=\"\">All Departments</option>\r\n              {[\r\n                ...new Set(people.map((p) => p.department).filter(Boolean)),\r\n              ].map((dept) => (\r\n                <option key={dept} value={dept}>\r\n                  {dept}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* People list */}\r\n          <div className={feedStyles.PeopleList}>\r\n            {people\r\n              .filter((person) => {\r\n                const nameOrUsername = `${person.first_name || \"\"} ${\r\n                  person.last_name || \"\"\r\n                } ${person.user || \"\"}`.toLowerCase();\r\n                const matchesName = nameOrUsername.includes(\r\n                  searchTerm.toLowerCase()\r\n                );\r\n                const matchesDepartment =\r\n                  !selectedDepartment ||\r\n                  person.department === selectedDepartment;\r\n                return matchesName && matchesDepartment;\r\n              })\r\n              .map((person) => {\r\n                return (\r\n                  <ListGroup.Item\r\n                    key={person.id}\r\n                    className={feedStyles.PersonItem}\r\n                    onClick={() => history.push(`/profiles/${person.id}`)}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <div className={feedStyles.PersonContent}>\r\n                      <Avatar\r\n                        src={person.profile_image}\r\n                        first_name={person.first_name}\r\n                        last_name={person.last_name}\r\n                        username={person.user}\r\n                        size=\"sm\"\r\n                      />\r\n                      <span>\r\n                        {person.first_name || person.last_name\r\n                          ? `${person.first_name || \"\"} ${\r\n                              person.last_name || \"\"\r\n                            }`.trim()\r\n                          : person.user}\r\n                      </span>\r\n                    </div>\r\n                  </ListGroup.Item>\r\n                );\r\n              })}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default HomeFeedPage;\r\n","import React from \"react\";\nimport { Button } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport sharedStyles from \"../App.module.css\";\nimport formStyles from \"../styles/PostForm.module.css\";\n\nfunction FormFooter(props) {\n  // Hooks\n  const history = useHistory();\n\n  // Props and defaults\n  const {\n    submitText = \"Submit\",\n    onCancel,\n    disabled = false,\n    showCancel = true,\n  } = props;\n\n  return (\n    <div className={formStyles.FormButtonRow}>\n      <Button\n        type=\"submit\"\n        className={sharedStyles.YellowButton}\n        disabled={disabled}\n      >\n        {submitText}\n      </Button>\n      {showCancel && (\n        <Button\n          className={sharedStyles.BlueButton}\n          variant=\"outline-secondary\"\n          onClick={onCancel || (() => history.goBack())}\n        >\n          Cancel\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default FormFooter;\n","import React from \"react\";\nimport { Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport FormFooter from \"./FormFooter\";\nimport styles from \"../styles/PostForm.module.css\";\n\n// PostForm: Reusable form component for creating or editing a recognition\nfunction PostForm({\n  title,\n  content,\n  handleChange,\n  handleSubmit,\n  children,\n  submitText = \"Submit\",\n  onCancel,\n  errors,\n}) {\n  return (\n    <Form onSubmit={handleSubmit} className={styles.FormWrapper}>\n      {/* Title field with tooltip and error display */}\n      <Form.Group controlId=\"title\" className={styles.FormGroupSpacing}>\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip>Enter a short, clear post title</Tooltip>}\n        >\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter title\"\n            name=\"title\"\n            aria-label=\"Enter a short, clear post title\"\n            value={title}\n            onChange={handleChange}\n          />\n        </OverlayTrigger>\n        {Array.isArray(errors?.title) &&\n          errors?.title?.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n\n      {/* Content field with tooltip and error display */}\n      <Form.Group controlId=\"content\" className={styles.FormGroupSpacing}>\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip>Write the story you want to share</Tooltip>}\n        >\n          <Form.Control\n            as=\"textarea\"\n            rows={10}\n            placeholder=\"Write your story...\"\n            name=\"content\"\n            aria-label=\"Write the story you want to share\"\n            value={content}\n            onChange={handleChange}\n          />\n        </OverlayTrigger>\n        {Array.isArray(errors?.content) &&\n          errors?.content?.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n\n      {children}\n      <FormFooter submitText={submitText} onCancel={onCancel} />\n    </Form>\n  );\n}\n\nexport default PostForm;\n","import React, { useState } from \"react\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\n\n// CreateRecognitionPage: Form to create a new recognition with optional image\nfunction CreateRecognitionPage() {\n  // State\n  const [recognitionData, setRecognitionData] = useState({\n    title: \"\",\n    content: \"\",\n    image: null,\n  });\n  const { title, content, image } = recognitionData;\n\n  // Error state\n  const [errors, setErrors] = useState({});\n\n  // Navigation and user context\n  const history = useHistory();\n  const setCurrentUser = useSetCurrentUser(); // Refresh user after creation\n\n  // Handle input changes, including file upload with size validation\n  const handleChange = (event) => {\n    const { name, value, files } = event.target;\n\n    if (name) {\n      // Clear field-level error on input\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    if (name === \"image\") {\n      const file = files[0];\n      if (file && file.size > 5 * 1024 * 1024) {\n        alert(\"Image must be smaller than 5MB.\");\n        return;\n      }\n      setRecognitionData({\n        ...recognitionData,\n        image: files[0],\n      });\n    } else {\n      setRecognitionData({\n        ...recognitionData,\n        [name]: value,\n      });\n    }\n  };\n\n  // Handlers\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    if (image) {\n      formData.append(\"image\", image);\n    }\n\n    try {\n      // PATCH 9: Explicit token for POST request (prevent refresh desync)\n      const { data } = await axiosReq.post(\"/posts/\", formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      // Refresh current user context after creation\n      const currentUserData = await axiosRes\n        .get(\"/dj-rest-auth/user/\")\n        .then((res) => res.data);\n      setCurrentUser(currentUserData);\n\n      // Redirect to the newly created recognition detail page\n      history.push(`/recognitions/${data.id}?created=true`);\n    } catch (err) {\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Create\"\n        onCancel={() => history.push(\"/\")}\n        errors={errors}\n      >\n        <Form.Group controlId=\"image\" className={formStyles.FormMediaWrapper}>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Upload an image (optional)</Tooltip>}\n          >\n            <Form.Control\n              type=\"file\"\n              name=\"image\"\n              onChange={handleChange}\n              aria-label=\"Upload an optional image\"\n            />\n          </OverlayTrigger>\n          <div className={formStyles.AllowedFormats}>\n            Allowed formats: jpg, jpeg, png\n          </div>\n          {Array.isArray(errors?.image) &&\n            errors.image.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default CreateRecognitionPage;\n","import React, { useState } from \"react\";\nimport { Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport FormFooter from \"../../components/FormFooter\";\nimport styles from \"../../styles/PostForm.module.css\";\n\n// CommentForm: Controlled form to add a new comment for a post\nfunction CommentForm({ postId, onCommentSubmit, disabled = false }) {\n  // State\n  const [content, setContent] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  // Derived value: check if comment is valid (non-empty trimmed string)\n  const isValidComment = content.trim().length > 0;\n\n  // Handlers\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axiosReq.post(\"/comments/\", {\n        content,\n        post: postId,\n      });\n      setContent(\"\");\n      setErrors({});\n      if (onCommentSubmit) {\n        onCommentSubmit(data);\n      }\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className={styles.FormWrapper}>\n      <Form.Group controlId=\"commentText\" className={styles.FormGroupSpacing}>\n        {disabled ? (\n          <Form.Control\n            as=\"textarea\"\n            rows={2}\n            placeholder=\"Log in to comment\"\n            name=\"comment\"\n            disabled\n            aria-label=\"Log in to comment\"\n            value={content}\n            onChange={handleChange}\n          />\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Add your comment</Tooltip>}\n          >\n            <Form.Control\n              as=\"textarea\"\n              rows={2}\n              placeholder=\"Write a comment...\"\n              name=\"comment\"\n              aria-label=\"Add your comment\"\n              disabled={disabled}\n              value={content}\n              onChange={handleChange}\n            />\n          </OverlayTrigger>\n        )}\n        {errors?.content && (\n          <div className=\"text-danger mt-2\">{errors.content}</div>\n        )}\n      </Form.Group>\n\n      <FormFooter\n        submitText=\"Post\"\n        disabled={disabled || !isValidComment}\n        showCancel={false}\n      />\n    </Form>\n  );\n}\n\nexport default CommentForm;\n","import React from \"react\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport styles from \"../../styles/Comment.module.css\";\n\n// Comment: Displays a single comment with edit/delete options if owner\nfunction Comment(props) {\n  const { comment, setEditingComment, setShowDeleteModal } = props;\n\n  return (\n    <div className={styles.SingleComment}>\n      <div className=\"d-flex justify-content-between align-items-start\">\n        <strong className={styles.CommentAuthor}>{comment.display_name}</strong>\n\n        {/* Edit/Delete dropdown for owner */}\n        {comment.is_user && (\n          <MoreDropdown\n            handleEdit={() => setEditingComment(comment)}\n            handleDelete={() => setShowDeleteModal(comment.id)}\n          />\n        )}\n      </div>\n\n      {/* Comment content */}\n      <p className={styles.CommentText}>{comment.content}</p>\n\n      {/* Timestamp */}\n      <small className={styles.CommentDate}>{comment.created_at}</small>\n    </div>\n  );\n}\n\nexport default Comment;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport styles from \"../../styles/Comment.module.css\";\nimport FormFooter from \"../../components/FormFooter\";\n\nfunction CommentEditForm(props) {\n  // Props from parent\n  const { comment, setComments, setEditingComment, onCancel } = props;\n\n  // Routing\n  const history = useHistory();\n  const location = useLocation();\n\n  // Local state\n  const [content, setContent] = useState(comment.content);\n  const [errors, setErrors] = useState({});\n\n  // Handlers\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axiosReq.patch(`/comments/${comment.id}/`, {\n        content,\n      });\n      setComments((prevComments) =>\n        prevComments.map((c) => (c.id === comment.id ? data : c))\n      );\n      setEditingComment(null);\n      history.replace(`${location.pathname}?comment_edited=true`);\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className={styles.SingleComment}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={content}\n          onChange={handleChange}\n          rows={2}\n          className={styles.CommentText}\n          aria-label=\"Edit your comment\"\n        />\n        {Array.isArray(errors?.content) &&\n          errors.content.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n      <FormFooter submitText=\"Update\" onCancel={onCancel} />\n    </Form>\n  );\n}\n\nexport default CommentEditForm;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory, useLocation, Link } from \"react-router-dom\";\nimport { Container, Alert, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport CommentForm from \"../comment/CommentForm\";\nimport Comment from \"../comment/Comment\";\nimport CommentEditForm from \"../comment/CommentEditForm\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport commentStyles from \"../../styles/Comment.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\n// RecognitionDetailPage: Display a single recognition detail with edit/delete functionality\nfunction RecognitionDetailPage() {\n  // Route params, navigation and Context hooks\n  const { id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const { currentUser } = useCurrentUser();\n\n  // State variables\n  const [recognition, setRecognition] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showCommentSuccess, setShowCommentSuccess] = useState(false);\n  const [editingComment, setEditingComment] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(null);\n\n  // Parse URL query params for success alerts\n  const searchParams = new URLSearchParams(location.search);\n  const isCreated = searchParams.get(\"created\") === \"true\";\n  const isUpdated = searchParams.get(\"updated\") === \"true\";\n  const commentEdited = searchParams.get(\"comment_edited\") === \"true\";\n  const commentDeleted = searchParams.get(\"comment_deleted\") === \"true\";\n\n  // Determine if any success alert should be shown\n  const showSuccess =\n    isCreated ||\n    isUpdated ||\n    commentEdited ||\n    commentDeleted ||\n    showCommentSuccess;\n\n  // Determine which success message to show\n  const successMessage = isCreated\n    ? \"Your recognition has been published!\"\n    : isUpdated\n    ? \"Your recognition has been updated!\"\n    : commentEdited\n    ? \"Comment updated successfully!\"\n    : commentDeleted\n    ? \"Comment deleted successfully!\"\n    : showCommentSuccess\n    ? \"Comment posted successfully!\"\n    : \"\";\n\n  // Handlers\n  const handleLike = async () => {\n    try {\n      const { data } = await axiosRes.post(\"/likes/\", {\n        post: recognition.id,\n      });\n      setRecognition((prev) => ({\n        ...prev,\n        likes_count: prev.likes_count + 1,\n        like_id: data.id,\n      }));\n    } catch (err) {\n      // TODO: add user feedback on error\n    }\n  };\n\n  const handleUnlike = async () => {\n    try {\n      await axiosRes.delete(`/likes/${recognition.like_id}/`);\n      setRecognition((prev) => ({\n        ...prev,\n        likes_count: prev.likes_count - 1,\n        like_id: null,\n      }));\n    } catch (err) {\n      // TODO: add user feedback on error\n    }\n  };\n\n  const handleDelete = () => {\n    setShowConfirm(true);\n  };\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(`/posts/${recognition.id}/`);\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  const confirmDeleteComment = async () => {\n    try {\n      await axiosReq.delete(`/comments/${showDeleteModal}/`);\n      setComments((prevComments) =>\n        prevComments.filter((comment) => comment.id !== showDeleteModal)\n      );\n      setRecognition((prev) => ({\n        ...prev,\n        comments_count: prev.comments_count - 1,\n      }));\n      history.replace(`${location.pathname}?comment_deleted=true`);\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setShowDeleteModal(null);\n    }\n  };\n\n  // Clear success alert after 4 seconds and clean URL\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        setShowCommentSuccess(false);\n        history.replace(location.pathname);\n      }, 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, history, location.pathname]);\n\n  // Fetch recognition data on mount or id change\n  useEffect(() => {\n    axiosReq\n      .get(`/posts/${id}/`)\n      .then((response) => {\n        setRecognition(response.data);\n      })\n      .catch((error) => {\n        // TODO: add user feedback on error\n      });\n  }, [id]);\n\n  // Fetch comments for this post and update on id or currentUser changes\n  useEffect(() => {\n    axiosReq\n      .get(`/comments/?post=${id}`)\n      .then((response) => {\n        setComments(response.data.results || response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching comments:\", error);\n      });\n  }, [id, currentUser]);\n\n  // Show loading indicator while fetching\n  if (!recognition) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading recognition...\" />\n      </Container>\n    );\n  }\n\n  // Dropdown menu for edit/delete if user owns nomination\n  const dropdownMenu = recognition.is_user ? (\n    <MoreDropdown\n      handleEdit={() => history.push(`/recognitions/${recognition.id}/edit`)}\n      handleDelete={handleDelete}\n    />\n  ) : null;\n\n  // Footer section with likes and comments\n  const postActions = (\n    <div className={styles.PostFooter}>\n      <div className={styles.ActionItem}>\n        {recognition.is_user ? (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id=\"tooltip-self-like\">\n                Can't like your own recognition!\n              </Tooltip>\n            }\n          >\n            <span\n              style={{ cursor: \"not-allowed\" }}\n              aria-label=\"You can't like your own recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        ) : recognition.like_id ? (\n          <span\n            onClick={handleUnlike}\n            style={{ cursor: \"pointer\" }}\n            aria-label=\"Unlike this recognition\"\n          >\n            <i className={`fas fa-thumbs-up ${styles.Heart}`} />\n          </span>\n        ) : currentUser ? (\n          <span\n            onClick={handleLike}\n            style={{ cursor: \"pointer\" }}\n            aria-label=\"Like this recognition\"\n          >\n            <i className={`far fa-thumbs-up ${styles.HeartOutline}`} />\n          </span>\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-login-like-${recognition.id}`}>\n                Log in to like recognitions!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"Log in to like this recognition\"\n              role=\"button\"\n              aria-disabled=\"true\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        )}\n        <span>{recognition.likes_count}</span>\n      </div>\n      <div className={styles.ActionItem}>\n        <i className=\"far fa-comment\" />\n        <span>{recognition.comments_count}</span>\n      </div>\n    </div>\n  );\n\n  return (\n    <Container>\n      {showSuccess && successMessage && (\n        <Alert variant=\"success\" dismissible>\n          {successMessage}\n        </Alert>\n      )}\n\n      <PostLayoutShell\n        title={recognition.title}\n        content={recognition.content}\n        image={recognition.image}\n        user={recognition.user}\n        username={recognition.username}\n        first_name={recognition.first_name}\n        last_name={recognition.last_name}\n        display_name={recognition.display_name}\n        profile_image={recognition.profile_image}\n        profile_id={recognition.profile_id}\n        created_at={recognition.created_at}\n        likes_count={recognition.likes_count}\n        comments_count={recognition.comments_count}\n        renderDropdown={dropdownMenu}\n        postActions={postActions}\n      >\n        <>\n          {/* Recognition image */}\n          {recognition.image && (\n            <div className={styles.ImageWrapper}>\n              <img\n                src={recognition.image}\n                alt={recognition.title}\n                className={styles.PostImage}\n              />\n            </div>\n          )}\n\n          {/* Comment form or login prompt */}\n          {currentUser ? (\n            <CommentForm\n              postId={recognition.id}\n              onCommentSubmit={(newComment) => {\n                setComments((prevComments) => [newComment, ...prevComments]);\n                setRecognition((prev) => ({\n                  ...prev,\n                  comments_count: prev.comments_count + 1,\n                }));\n                setShowCommentSuccess(true);\n              }}\n            />\n          ) : (\n            <p className={styles.LoginToComment}>\n              <i className=\"far fa-comment\" />\n              <Link to=\"/login\" className={styles.InteractiveTextLink}>\n                Log in\n              </Link>\n              to leave a comment.\n            </p>\n          )}\n\n          {/* Comments list */}\n          <div className={commentStyles.CommentSection} />\n          {comments.length ? (\n            comments.map((comment) =>\n              editingComment?.id === comment.id ? (\n                <div key={comment.id} className={styles.CommentBlock}>\n                  <CommentEditForm\n                    comment={comment}\n                    postId={recognition.id}\n                    setComments={setComments}\n                    setEditingComment={setEditingComment}\n                    onCancel={() => setEditingComment(null)}\n                  />\n                </div>\n              ) : (\n                <Comment\n                  key={comment.id}\n                  comment={comment}\n                  setEditingComment={setEditingComment}\n                  setShowDeleteModal={setShowDeleteModal}\n                />\n              )\n            )\n          ) : (\n            <p className=\"text-muted px-3\">No comments yet.</p>\n          )}\n        </>\n      </PostLayoutShell>\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n      <ConfirmDeleteModal\n        show={!!showDeleteModal}\n        onHide={() => setShowDeleteModal(null)}\n        onConfirm={confirmDeleteComment}\n      />\n    </Container>\n  );\n}\n\nexport default RecognitionDetailPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\n// UpdateRecognitionPage: Form to edit an existing recognition's title, content and image\nfunction UpdateRecognitionPage() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Data State\n  const [recognitionData, setRecognitionData] = useState({\n    title: \"\",\n    content: \"\",\n    image: null,\n  });\n  const [removeImage, setRemoveImage] = useState(false);\n\n  const { title, content, image } = recognitionData;\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Fetch recognition data on mount or id change\n  useEffect(() => {\n    axiosReq\n      .get(`/posts/${id}/`)\n      .then((response) => {\n        const { title, content, image } = response.data;\n        setRecognitionData({ title, content, image });\n        setHasLoaded(true);\n      })\n      .catch((err) => {\n        // TODO: add user feedback on error\n        history.push(\"/\");\n      });\n  }, [id, history]);\n\n  // Handlers\n  const handleChange = (event) => {\n    const { name, value, files } = event.target;\n    if (name) {\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    if (name === \"image\") {\n      setRecognitionData({\n        ...recognitionData,\n        image: files[0],\n      });\n    } else {\n      setRecognitionData({\n        ...recognitionData,\n        [name]: value,\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    if (removeImage) {\n      formData.append(\"image\", \"\");\n    } else if (image && typeof image !== \"string\") {\n      formData.append(\"image\", image);\n    }\n\n    try {\n      // PATCH 9: Explicit token header for nomination updates\n      await axiosReq.patch(`/posts/${id}/`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      history.push(`/recognitions/${id}?updated=true`);\n    } catch (err) {\n      // TODO: add user feedback on error\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data || {});\n      }\n    }\n  };\n\n  // Show loading indicator until data is loaded\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading recognition...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        image={image}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Update\"\n        onCancel={() => history.push(`/recognitions/${id}`)}\n        errors={errors}\n      >\n        <Form.Group className={formStyles.FormMediaWrapper}>\n          {typeof image === \"string\" && (\n            <>\n              <img\n                src={image}\n                alt=\"Current\"\n                className={formStyles.FormImagePreview}\n              />\n              <div className=\"d-flex align-items-center gap-2 mt-2 mb-3\">\n                <Form.Check\n                  type=\"checkbox\"\n                  id=\"remove-image\"\n                  label=\"\"\n                  aria-label=\"Remove image\"\n                  checked={removeImage}\n                  onChange={(e) => setRemoveImage(e.target.checked)}\n                />\n                <Form.Label htmlFor=\"remove-image\" className=\"mb-0\">\n                  Remove image\n                </Form.Label>\n              </div>\n            </>\n          )}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Upload an image (optional)</Tooltip>}\n          >\n            <Form.Control\n              type=\"file\"\n              name=\"image\"\n              onChange={handleChange}\n              aria-label=\"Upload an image (optional)\"\n            />\n          </OverlayTrigger>\n          <div className={formStyles.AllowedFormats}>\n            Allowed formats: jpg, jpeg, png\n          </div>\n          {Array.isArray(errors?.image) &&\n            errors.image.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default UpdateRecognitionPage;\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport {\n  useSetCurrentUser,\n  useCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport PeopleSearchBar from \"../../components/PeopleSearchBar\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport peopleSearchStyles from \"../../styles/PeopleSearchBar.module.css\";\n\n// CreateNominationPage: Form page to create a new nomination with nominee search and tagging\nfunction CreateNominationPage() {\n  // State\n  const [nominationData, setNominationData] = useState({\n    title: \"\",\n    content: \"\",\n    tag: \"\",\n  });\n  const { title, content, tag } = nominationData;\n\n  // Nominee selection state\n  const [selectedNomineeId, setSelectedNomineeId] = useState(\"\");\n  const [nomineeNameParam, setNomineeNameParam] = useState(\"\");\n\n  // Tag dropdown\n  const [tags, setTags] = useState([]);\n\n  // Error state\n  const [errors, setErrors] = useState({});\n\n  // Navigation and user context\n  const history = useHistory();\n  const location = useLocation();\n  const setCurrentUser = useSetCurrentUser();\n  const currentUser = useCurrentUser();\n\n  // Fetch tag options for dropdown\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/tags/\");\n        setTags(data.results);\n      } catch (err) {\n        // TODO: add user feedback on error\n      }\n    };\n\n    fetchTags();\n  }, []);\n\n  // Prefill nominee ID and name from URL query params (when navigated from ProfilePage)\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const prefillId = queryParams.get(\"nominee\");\n    const prefillName =\n      queryParams.get(\"name\") ||\n      queryParams.get(\"nominee_fullname\") ||\n      queryParams.get(\"nominee_username\") ||\n      \"\";\n\n    console.log(\"Full location.search:\", location.search);\n    console.log(\"Parsed prefillName:\", prefillName);\n\n    if (prefillId && !isNaN(prefillId)) {\n      setSelectedNomineeId(parseInt(prefillId));\n    }\n    if (prefillName) {\n      setNomineeNameParam(prefillName);\n    }\n  }, [location.search]);\n\n  // Handlers\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setErrors((prev) => ({\n      ...prev,\n      [name]: \"\",\n    }));\n    setNominationData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Prevent submission without a valid nominee ID\n    let localErrors = {};\n    if (!selectedNomineeId || isNaN(selectedNomineeId)) {\n      localErrors.nominee = [\"Please select a valid teammate.\"];\n    }\n\n    // Prevents self nomination\n    if (parseInt(selectedNomineeId) === currentUser?.currentUser?.pk) {\n      setErrors({ nominee: [\"You can't nominate yourself.\"] });\n      return;\n    }\n\n    // Prepare form data for multipart request\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    formData.append(\"nominee\", selectedNomineeId);\n    if (tag) formData.append(\"tag\", tag);\n\n    try {\n      const { data } = await axiosReq.post(\"/nominations/\", formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      // PATCH 9: Rehydrate user context after creation\n      setCurrentUser(\n        await axiosRes.get(\"/dj-rest-auth/user/\").then((res) => res.data)\n      );\n      history.push(`/nominations/${data.id}?created=true`);\n    } catch (err) {\n      // Combine backend errors with local ones\n      const serverErrors = err.response?.data || {};\n      setErrors({ ...serverErrors, ...localErrors });\n    }\n  };\n\n  // Cancel handler redirects to home\n  const handleCancel = () => {\n    history.push(\"/\");\n  };\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Create\"\n        onCancel={handleCancel}\n        errors={errors}\n      >\n        {/* Nominee search field */}\n        <Form.Group controlId=\"nominee\" className={formStyles.FormMediaWrapper}>\n          <div className={peopleSearchStyles.FullWidthNomineeSearch}>\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  Search for a teammate by first or last name (you can't\n                  nominate yourself)\n                </Tooltip>\n              }\n            >\n              <div>\n                <PeopleSearchBar\n                  className={peopleSearchStyles.FullWidthInput}\n                  enableSelectionDisplay={true}\n                  prefillValue={nomineeNameParam}\n                  placeholderText=\"Search nominee\"\n                  onUserSelect={(user) => {\n                    setSelectedNomineeId(user.id);\n                    setErrors((prev) => ({ ...prev, nominee: \"\" }));\n                  }}\n                />\n              </div>\n            </OverlayTrigger>\n            {Array.isArray(errors?.nominee) &&\n              errors.nominee.map((message, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {message}\n                </div>\n              ))}\n          </div>\n\n          {/* Tag dropdown field */}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Pick a tag that reflects the nomination</Tooltip>}\n          >\n            <Form.Control\n              as=\"select\"\n              name=\"tag\"\n              value={tag}\n              aria-label=\"Pick a tag that reflects the nomination\"\n              onChange={handleChange}\n            >\n              <option value=\"\">Select a tag</option>\n              {tags.map((tagObj) => (\n                <option key={tagObj.id} value={tagObj.name}>\n                  {tagObj.name}\n                </option>\n              ))}\n            </Form.Control>\n          </OverlayTrigger>\n          {Array.isArray(errors?.tag) &&\n            errors.tag.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default CreateNominationPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory, useLocation, Link } from \"react-router-dom\";\nimport { Container, Alert } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\n// NominationDetailPage: Display a single nomination detail with edit/delete functionality\nfunction NominationDetailPage() {\n  // Route params & navigation\n  const { id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n\n  // Local state\n  const [nomination, setNomination] = useState(null);\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  let dropdownMenu = null;\n\n  // Parse URL query params for success alerts\n  const searchParams = new URLSearchParams(location.search);\n  const isCreated = searchParams.get(\"created\") === \"true\";\n  const isUpdated = searchParams.get(\"updated\") === \"true\";\n\n  const showSuccess = isCreated || isUpdated;\n  const successMessage = isCreated\n    ? \"Your nomination has been published!\"\n    : isUpdated\n    ? \"Your nomination has been updated!\"\n    : \"\";\n\n  // Handlers\n  const handleDelete = () => {\n    setShowConfirm(true);\n  };\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(`/nominations/${nomination.id}/`);\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  // Clear success alert after 4 seconds and clean URL\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        const cleanUrl = location.pathname;\n        history.replace(cleanUrl);\n      }, 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, history, location.pathname]);\n\n  // Fetch nomination data on mount or id change\n  useEffect(() => {\n    axiosReq\n      .get(`/nominations/${id}/`)\n      .then((response) => {\n        setNomination(response.data);\n      })\n      .catch((error) => {\n        // TODO: add user feedback on error\n      });\n  }, [id]);\n\n  // Show loading indicator while fetching\n  if (!nomination) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading nomination...\" />\n      </Container>\n    );\n  }\n\n  // Dropdown menu for edit/delete if user owns nomination\n  dropdownMenu = nomination.is_user ? (\n    <MoreDropdown\n      handleEdit={() => history.push(`/nominations/${nomination.id}/edit`)}\n      handleDelete={handleDelete}\n    />\n  ) : null;\n\n  return (\n    <Container>\n      {showSuccess && (\n        <Alert variant=\"success\" dismissible>\n          {successMessage}\n        </Alert>\n      )}\n\n      <PostLayoutShell\n        title={nomination.title}\n        content={nomination.content}\n        user={nomination.user}\n        username={nomination.username}\n        first_name={nomination.first_name}\n        last_name={nomination.last_name}\n        display_name={nomination.display_name}\n        profile_image={nomination.profile_image}\n        profile_id={nomination.profile_id}\n        nominee_profile_id={nomination.nominee_profile_id}\n        created_at={nomination.created_at}\n        renderDropdown={dropdownMenu}\n        metaTop={\n          nomination.nominee_display_name &&\n          nomination.tag && (\n            <p className={styles.NominationMeta}>\n              {nomination.nominee_profile_id ? (\n                <Link\n                  to={`/profiles/${nomination.nominee_profile_id}`}\n                  className={styles.InteractiveNameLink}\n                >\n                  <strong>{nomination.nominee_display_name}</strong>\n                </Link>\n              ) : (\n                <strong>{nomination.nominee_display_name}</strong>\n              )}{\" \"}\n              was nominated by <strong>{nomination.display_name}</strong> for{\" \"}\n              <span\n                style={{\n                  backgroundColor: nomination.tag_color,\n                  color: \"#fff\",\n                  padding: \"2px 8px\",\n                  borderRadius: \"12px\",\n                  fontSize: \"0.8rem\",\n                }}\n              >\n                {nomination.tag}\n              </span>\n            </p>\n          )\n        }\n      />\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </Container>\n  );\n}\n\nexport default NominationDetailPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\n// UpdateNominationPage: Form to edit an existing nomination's title, content, and tag\nfunction UpdateNominationPage() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Data State\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    nominee_display_name: \"\",\n    tag: \"\",\n  });\n  const { title, content, nominee_display_name, tag } = postData;\n\n  // Available tags for dropdown\n  const [tags, setTags] = useState([]);\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Fetch nomination data on mount or id change\n  useEffect(() => {\n    axiosReq\n      .get(`/nominations/${id}/`)\n      .then((response) => {\n        const { title, content, nominee_display_name, tag } = response.data;\n        setPostData({\n          title,\n          content,\n          nominee_display_name,\n          tag,\n        });\n        setHasLoaded(true);\n      })\n      .catch((err) => {\n        // TODO: add user feedback on error\n        history.push(\"/\");\n      });\n  }, [id, history]);\n\n  // Fetch available tags on mount\n  useEffect(() => {\n    axiosReq\n      .get(\"/tags/\")\n      .then((response) => setTags(response.data.results))\n      .catch((err) => {\n        // TODO: add user feedback on error\n      });\n  }, []);\n\n  // Handlers\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    if (name) {\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    setPostData({\n      ...postData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    formData.append(\"tag\", tag);\n\n    try {\n      // PATCH 9: Explicit token header for nomination updates\n      await axiosReq.patch(`/nominations/${id}/`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      history.push(`/nominations/${id}?updated=true`);\n    } catch (err) {\n      // TODO: add user feedback on error\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data || {});\n      }\n    }\n  };\n\n  // Show loading indicator until data is loaded\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading nomination...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Update\"\n        onCancel={() => history.push(`/nominations/${id}`)}\n        errors={errors}\n      >\n        <Form.Group className={formStyles.FormMediaWrapper}>\n          {/* Read-only nominee display */}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip>\n                Want to change the nominee? You'll need to delete and start a\n                new nomination.\n              </Tooltip>\n            }\n          >\n            <Form.Label className=\"mb-2\">\n              <strong>Nominee:</strong>\n            </Form.Label>\n          </OverlayTrigger>\n          <div className=\"mb-3\">{nominee_display_name}</div>\n\n          {/* Editable tag dropdown */}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Select a new tag if needed</Tooltip>}\n          >\n            <Form.Control\n              as=\"select\"\n              name=\"tag\"\n              value={tag}\n              aria-label=\"Select a new tag if needed\"\n              onChange={handleChange}\n            >\n              <option value=\"\">Select a tag</option>\n              {tags.map((t) => (\n                <option key={t.id} value={t.name}>\n                  {t.name}\n                </option>\n              ))}\n            </Form.Control>\n          </OverlayTrigger>\n          {Array.isArray(errors?.tag) &&\n            errors.tag.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default UpdateNominationPage;\n","import React, { useEffect, useState } from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport RecognitionCard from \"../recognitions/RecognitionCard\";\nimport NominationCard from \"../nominations/NominationCard\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\nimport Avatar from \"../../components/Avatar\";\nimport profileStyles from \"../../styles/Profile.module.css\";\nimport styles from \"../../App.module.css\";\n\n// ProfilePage: displays a user's profile info and their posts (recognitions, nominations)\nfunction ProfilePage() {\n  // Scroll to top on mount (important on mobile)\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  // Routing and Params\n  const { id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n\n  // Show update success alert based on URL query param\n  const [showUpdated, setShowUpdated] = useState(\n    new URLSearchParams(location.search).get(\"updated\")\n  );\n\n  // Current authenticated user context\n  const { currentUser } = useCurrentUser();\n\n  // State: profile data and posts\n  const [profile, setProfile] = useState(null);\n  const [recognitions, setRecognitions] = useState([]);\n  const [nominations, setNominations] = useState([]);\n\n  // UI loading State\n  const [hasLoadedProfile, setHasLoadedProfile] = useState(false);\n  const [hasLoadedRecognitions, setHasLoadedRecognitions] = useState(false);\n  const [hasLoadedNominations, setHasLoadedNominations] = useState(false);\n\n  // Auto-hide update success alert after 4 seconds\n  useEffect(() => {\n    if (showUpdated) {\n      const timer = setTimeout(() => setShowUpdated(false), 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showUpdated]);\n\n  // Fetch user profile\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axiosReq.get(`/user-profiles/${id}/`);\n        setProfile(data);\n      } catch (err) {\n        // TODO: add user feedback on error\n      } finally {\n        setHasLoadedProfile(true);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  // Fetch user's recognitions\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    axiosReq\n      .get(`/posts/?user__profile=${id}`)\n      .then((res) => setRecognitions(res.data.results))\n      .catch(() => {})\n      .finally(() => setHasLoadedRecognitions(true));\n  }, [id]);\n\n  // Fetch user's nominations\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    axiosReq\n      .get(`/nominations/?nominator__profile=${id}`)\n      .then((res) => setNominations(res.data.results))\n      .catch(() => {})\n      .finally(() => setHasLoadedNominations(true));\n  }, [id]);\n\n  // Show loading indicator while any data is still loading\n  if (id === \"undefined\") {\n    return <LoadingIndicator message=\"Preparing your profile...\" />;\n  }\n\n  if (!hasLoadedProfile || !hasLoadedRecognitions || !hasLoadedNominations) {\n    return <LoadingIndicator message=\"Loading profile...\" />;\n  }\n\n  // Check for missing essential profile info\n  const isCoreInfoMissing =\n    !profile.first_name || !profile.last_name || !profile.department;\n  const isOptionalInfoMissing = !profile.presentation || !profile.profile_image;\n\n  return (\n    <>\n      {/* Update success alert */}\n      {showUpdated && (\n        <div className=\"alert alert-success text-center mt-3\">\n          Your profile has been updated!\n        </div>\n      )}\n\n      <Container>\n        {/* Profile header section */}\n        {profile && (\n          <div className={profileStyles.ProfileWrapper}>\n            <div className={profileStyles.Banner} />\n\n            {/* Avatar overlaps banner */}\n            <div className={profileStyles.AvatarWrapper}>\n              <Avatar\n                src={profile.profile_image}\n                first_name={profile.first_name}\n                last_name={profile.last_name}\n                username={profile.user}\n                size=\"lg\"\n              />\n            </div>\n\n            {/* Profile info and actions */}\n            <div className={profileStyles.ProfileDetails}>\n              <div className={profileStyles.NameRow}>\n                <div className={profileStyles.NameRow}>\n                  <h3>\n                    {profile.first_name || profile.last_name\n                      ? `${profile.first_name || \"\"} ${\n                          profile.last_name || \"\"\n                        }`.trim()\n                      : profile.user}\n                  </h3>\n\n                  {/* Edit icon for own profile; Nominate button for others */}\n                  {currentUser ? (\n                    profile.is_user_profile ? (\n                      <span\n                        className={profileStyles.EditIcon}\n                        onClick={() =>\n                          history.push(`/profiles/${profile.id}/edit`)\n                        }\n                      >\n                        <i className=\"fa-solid fa-pen\" />\n                      </span>\n                    ) : (\n                      <Button\n                        className={styles.YellowButton}\n                        onClick={() => {\n                          const hasFullName =\n                            profile.first_name || profile.last_name;\n                          const fullName = `${profile.first_name || \"\"} ${\n                            profile.last_name || \"\"\n                          }`.trim();\n                          const fallback = profile.user;\n\n                          const param = hasFullName\n                            ? `name=${encodeURIComponent(fullName)}`\n                            : `nominee_username=${encodeURIComponent(\n                                fallback\n                              )}`;\n\n                          history.push(\n                            `/nominations/create?nominee=${profile.user}&${param}`\n                          );\n                        }}\n                      >\n                        Nominate\n                      </Button>\n                    )\n                  ) : null}\n                </div>\n              </div>\n\n              {/* Profile completeness warnings */}\n              {isCoreInfoMissing && (\n                <p className={profileStyles.IncompleteNote}>\n                  {\" \"}\n                  {profile.is_user_profile ? (\n                    <>\n                      Some profile details are missing. Contact HR to update\n                      your name or department.\n                    </>\n                  ) : (\n                    <>\n                      This profile is still under review and may be incomplete.\n                    </>\n                  )}\n                </p>\n              )}\n              {!isCoreInfoMissing &&\n                profile.is_user_profile &&\n                isOptionalInfoMissing && (\n                  <p className={profileStyles.IncompleteNote}>\n                    You can complete your profile by adding a picture or writing\n                    a short bio using the edit icon.\n                  </p>\n                )}\n\n              {/* Department and bio */}\n              <p className={profileStyles.Department}>{profile.department}</p>\n              <p className={profileStyles.Bio}>\n                {profile.presentation || \"No bio yet.\"}\n              </p>\n            </div>\n          </div>\n        )}\n\n        {/* Posts Feed: Recognitions & Nominations in two columns */}\n        <div className={profileStyles.TwoColumnFeed}>\n          <div className={profileStyles.FeedColumn}>\n            <div className={profileStyles.SectionTitlePurple}>Recognitions</div>\n            {recognitions.filter((post) => post.user === profile.user).length >\n            0 ? (\n              recognitions\n                .filter((post) => post.user === profile.user)\n                .map((post) => (\n                  <RecognitionCard\n                    key={`post-${post.id}`}\n                    {...post}\n                    setRecognitions={setRecognitions}\n                    onPostDelete={(deletedId) =>\n                      setRecognitions((prev) =>\n                        prev.filter((r) => r.id !== deletedId)\n                      )\n                    }\n                  />\n                ))\n            ) : (\n              <p className=\"text-center text-muted\">No recognitions yet.</p>\n            )}\n          </div>\n          <div className={profileStyles.FeedColumn}>\n            <div className={profileStyles.SectionTitleYellow}>Nominations</div>\n            {nominations.filter(\n              (nom) =>\n                nom.nominator === profile.user ||\n                nom.nominee_username === profile.user\n            ).length > 0 ? (\n              nominations\n                .filter(\n                  (nom) =>\n                    nom.nominator === profile.user ||\n                    nom.nominee_username === profile.user\n                )\n                .map((nom) => (\n                  <NominationCard\n                    key={`nom-${nom.id}`}\n                    {...nom}\n                    setPosts={setNominations}\n                    onPostDelete={(deletedId) =>\n                      setNominations((prevNoms) =>\n                        prevNoms.filter((n) => n.id !== deletedId)\n                      )\n                    }\n                  />\n                ))\n            ) : (\n              <p className=\"text-center text-muted\">No nominations yet.</p>\n            )}\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport FormFooter from \"../../components/FormFooter\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\n// EditProfileForm: Allows user to edit their profile presentation and image\nfunction EditProfileForm() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Context for current user\n  const setCurrentUser = useSetCurrentUser();\n\n  // Data State - Profile info\n  const [profile, setProfile] = useState(null);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [presentation, setPresentation] = useState(\"\");\n\n  // Data State - Image\n  const [imageFile, setImageFile] = useState(null);\n  const [removeImage, setRemoveImage] = useState(false);\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Fetch Profile data on Mount\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axiosReq.get(`/user-profiles/${id}/`);\n        setProfile(data);\n        setFirstName(data.first_name);\n        setLastName(data.last_name);\n        setPresentation(data.presentation || \"\");\n        setHasLoaded(true);\n      } catch (err) {\n        // TODO: add user feedback on error\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  // Handlers\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Prepare form data\n    const formData = new FormData();\n    formData.append(\"presentation\", presentation);\n\n    if (removeImage) {\n      formData.append(\"profile_image\", \"\");\n    } else if (imageFile && typeof imageFile !== \"string\") {\n      formData.append(\"profile_image\", imageFile);\n    }\n    try {\n      const { data } = await axiosReq.patch(\n        `/user-profiles/${profile.id}/`,\n        formData,\n        {\n          // PATCH 9: Explicit token header for profile update\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      setProfile(data);\n\n      // Refresh current user context after update\n      setCurrentUser(\n        await axiosRes.get(\"/dj-rest-auth/user/\").then((res) => res.data)\n      );\n      history.push(`/profiles/${profile.id}?updated=true`);\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  // Show loading indicator until data is fetched\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading profile...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>Edit your profile</h2>\n      {profile ? (\n        <Form onSubmit={handleSubmit}>\n          {/* Read-only first name with tooltip */}\n          <Form.Group\n            controlId=\"firstName\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  To update your first name, please contact your HR\n                  representative\n                </Tooltip>\n              }\n            >\n              <div className={formStyles.ReadOnlyWrapper}>\n                <Form.Control\n                  className={formStyles.ReadOnlyInput}\n                  type=\"text\"\n                  value={firstName}\n                  readOnly\n                  tabIndex={-1}\n                  placeholder=\"First Name\"\n                  aria-label=\"First Name (read-only)\"\n                />\n              </div>\n            </OverlayTrigger>\n          </Form.Group>\n\n          {/* Read-only last name with tooltip */}\n          <Form.Group\n            controlId=\"lastName\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  To update your last name, please contact your HR\n                  representative\n                </Tooltip>\n              }\n            >\n              <div className={formStyles.ReadOnlyWrapper}>\n                <Form.Control\n                  className={formStyles.ReadOnlyInput}\n                  type=\"text\"\n                  value={lastName}\n                  readOnly\n                  tabIndex={-1}\n                  placeholder=\"Last Name\"\n                  aria-label=\"Last Name (read-only)\"\n                />\n              </div>\n            </OverlayTrigger>\n          </Form.Group>\n\n          {/* Editable presentation/bio field */}\n          <Form.Group\n            controlId=\"presentation\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={<Tooltip>Write a short bio about yourself</Tooltip>}\n            >\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={presentation}\n                onChange={(e) => setPresentation(e.target.value)}\n                placeholder=\"Write something about yourself\"\n                aria-label=\"Short bio about yourself\"\n              />\n            </OverlayTrigger>\n            {Array.isArray(errors?.presentation) &&\n              errors.presentation.map((msg, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {msg}\n                </div>\n              ))}\n          </Form.Group>\n\n          {/* Profile image preview, remove checkbox, and upload */}\n          <Form.Group className={formStyles.FormGroupSpacing}>\n            {profile.profile_image && (\n              <>\n                <img\n                  src={profile.profile_image}\n                  alt=\"Current profile\"\n                  className={formStyles.FormImagePreview}\n                />\n                <div className=\"d-flex align-items-center gap-2 mt-2 mb-3\">\n                  <Form.Check\n                    type=\"checkbox\"\n                    id=\"remove-profile-image\"\n                    label=\"\"\n                    aria-label=\"Remove profile image\"\n                    checked={removeImage}\n                    onChange={(e) => setRemoveImage(e.target.checked)}\n                  />\n                  <Form.Label htmlFor=\"remove-profile-image\" className=\"mb-0\">\n                    Remove profile image\n                  </Form.Label>\n                </div>\n              </>\n            )}\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={<Tooltip>Upload a new profile image (optional)</Tooltip>}\n            >\n              <Form.Control\n                type=\"file\"\n                name=\"profile_image\"\n                onChange={(e) => setImageFile(e.target.files[0])}\n                aria-label=\"Upload new profile image\"\n              />\n            </OverlayTrigger>\n            <div className={formStyles.AllowedFormats}>\n              Allowed formats: jpg, jpeg, png\n            </div>\n            {Array.isArray(errors?.profile_image) &&\n              errors.profile_image.map((message, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {message}\n                </div>\n              ))}\n          </Form.Group>\n\n          {/* Submit and cancel buttons */}\n          <FormFooter submitText=\"Update\" onCancel={() => history.goBack()} />\n        </Form>\n      ) : (\n        <p>Loading profile...</p>\n      )}\n    </div>\n  );\n}\n\nexport default EditProfileForm;\n","export default __webpack_public_path__ + \"static/media/auth_pic.305084ff.jpeg\";","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport sharedStyles from \"../../App.module.css\";\nimport authPic from \"../../assets/auth_pic.jpeg\";\n\n// SignInForm: Login form with alert support for logout/registration status\nfunction SignInForm() {\n  // Location-based alerts\n  const location = useLocation();\n  const [showSuccess, setShowSuccess] = useState(\n    new URLSearchParams(location.search).get(\"registered\")\n  );\n\n  const [showLogout, setShowLogout] = useState(\n    new URLSearchParams(location.search).get(\"loggedOut\")\n  );\n\n  // Auto-hide alerts after 4 seconds\n  useEffect(() => {\n    if (showSuccess || showLogout) {\n      const timer = setTimeout(() => {\n        setShowSuccess(false);\n        setShowLogout(false);\n      }, 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, showLogout]);\n\n  // State & Context\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [loginErrors, setLoginErrors] = useState({});\n  const { username, password } = signInData;\n  const history = useHistory();\n\n  // Handlers\n  function handleChange(event) {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n\n      // Store the tokens in localStorage\n      localStorage.setItem(\"access_token\", data.access_token);\n      localStorage.setItem(\"refresh_token\", data.refresh_token);\n      setTokenTimestamp(data);\n\n      // Refetch user using token\n      const { data: userData } = await axiosReq.get(\"/dj-rest-auth/user/\");\n      setCurrentUser(userData);\n\n      // Redirect to homepage\n      history.push(\"/\");\n    } catch (err) {\n      setLoginErrors(err.response?.data || {});\n    }\n  }\n\n  return (\n    <>\n      {showSuccess && (\n        <Alert variant=\"success\" className=\"mt-3 text-center\">\n          Registration successful! Please log in.\n        </Alert>\n      )}\n      {showLogout && (\n        <Alert variant=\"info\" className=\"mt-3 text-center\">\n          You have been logged out.\n        </Alert>\n      )}\n      <Container className=\"d-flex justify-content-center\">\n        <div className={authStyles.gradient}>\n          <div className={authStyles.gradientOverlay}>\n            <div className={authStyles.splitBox}>\n              <div className={authStyles.formBox}>\n                <h2 className={authStyles.AuthTitle}>LOGIN</h2>\n                {Object.keys(loginErrors).length > 0 && (\n                  <div className={authStyles.ErrorBox}>\n                    <ul className=\"mb-0 ps-3\">\n                      {Object.values(loginErrors)\n                        .flat()\n                        .map((message, index) => (\n                          <li key={index}>{message}</li>\n                        ))}\n                    </ul>\n                  </div>\n                )}\n                {/* Login form */}\n                <Form\n                  onSubmit={handleSubmit}\n                  className={authStyles.FormWrapper}\n                >\n                  <Form.Group\n                    controlId=\"username\"\n                    className={authStyles.FormGroupSpacing}\n                  >\n                    <Form.Label className=\"d-none\">Username</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      name=\"username\"\n                      value={username}\n                      onChange={handleChange}\n                      aria-label=\"Username\"\n                    />\n                  </Form.Group>\n\n                  <Form.Group\n                    controlId=\"password\"\n                    className={authStyles.FormGroupSpacing}\n                  >\n                    <Form.Label className=\"d-none\">Password</Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      value={password}\n                      onChange={handleChange}\n                      aria-label=\"Password\"\n                    />\n                  </Form.Group>\n\n                  <Button\n                    type=\"submit\"\n                    className={`${sharedStyles.YellowButton} ${authStyles.CenteredButton}`}\n                  >\n                    Submit\n                  </Button>\n                </Form>\n\n                {/* Register link */}\n                <div className={authStyles.AuthLink}>\n                  OR\n                  <Link to=\"/register\" className={authStyles.AuthLinkHighlight}>\n                    Sign up!\n                  </Link>\n                </div>\n              </div>\n\n              {/* Side image */}\n              <div className={authStyles.imageBox}>\n                <img\n                  src={authPic}\n                  alt=\"Sign in illustration\"\n                  className={authStyles.AuthImage}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default SignInForm;\n","export default __webpack_public_path__ + \"static/media/register_pic.769add72.jpg\";","import React, { useState } from \"react\";\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport authStyles from \"../../styles/AuthForm.module.css\";\r\nimport sharedStyles from \"../../App.module.css\";\r\nimport registerPic from \"../../assets/register_pic.jpg\";\r\n\r\n// SignUpForm: Form for user registration\r\nfunction SignUpForm() {\r\n  // State\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const { username, password1, password2 } = signUpData;\r\n  const history = useHistory();\r\n\r\n  // Handlers\r\n  function handleChange(event) {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosReq.post(\"/dj-rest-auth/registration/\", signUpData);\r\n      history.push(\"/login?registered=true\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data || {});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"d-flex justify-content-center\">\r\n      <div className={authStyles.gradient}>\r\n        <div className={authStyles.gradientOverlay}>\r\n          <div className={authStyles.splitBox}>\r\n            {/* Form section */}\r\n            <div className={authStyles.formBox}>\r\n              <h2 className={authStyles.AuthTitle}>Register</h2>\r\n              <Form onSubmit={handleSubmit} className={authStyles.FormWrapper}>\r\n                {/* Error list */}\r\n                {Object.keys(errors).length > 0 && (\r\n                  <div className={authStyles.ErrorBox}>\r\n                    <ul className=\"mb-0 ps-3\">\r\n                      {Object.values(errors)\r\n                        .flat()\r\n                        .map((message, index) => (\r\n                          <li key={index}>{message}</li>\r\n                        ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n\r\n                {/* Username field */}\r\n                <Form.Group\r\n                  controlId=\"username\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Username</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    name=\"username\"\r\n                    value={username}\r\n                    onChange={handleChange}\r\n                    aria-label=\"Username\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                {/* Password field */}\r\n                <Form.Group\r\n                  controlId=\"password1\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password1\"\r\n                    value={password1}\r\n                    onChange={handleChange}\r\n                    aria-label=\"Password\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group\r\n                  controlId=\"password2\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Confirm Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm Password\"\r\n                    name=\"password2\"\r\n                    value={password2}\r\n                    onChange={handleChange}\r\n                    aria-label=\"Confirm Password\"\r\n                  />\r\n                </Form.Group>\r\n\r\n                {/* Submit button */}\r\n                <Button\r\n                  type=\"submit\"\r\n                  className={`${sharedStyles.YellowButton} ${authStyles.CenteredButton}`}\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </Form>\r\n\r\n              {/* Login redirect link */}\r\n              <div className={authStyles.AuthLink}>\r\n                OR\r\n                <Link to=\"/login\" className={authStyles.AuthLinkHighlight}>\r\n                  Log In!\r\n                </Link>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Image section */}\r\n            <div className={authStyles.imageBox}>\r\n              <img\r\n                src={registerPic}\r\n                alt=\"Register illustration\"\r\n                className={authStyles.AuthImage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default SignUpForm;\r\n","import Container from 'react-bootstrap/Container';\nimport { Route, Switch } from 'react-router-dom';\nimport styles from './App.module.css';\nimport NavBar from './components/NavBar';\nimport { useCurrentUser } from './contexts/CurrentUserContext';\n\n// Pages\nimport HomeFeedPage from './pages/home/HomeFeedPage';\nimport CreateRecognitionPage from './pages/recognitions/CreateRecognitionPage';\nimport RecognitionDetailPage from './pages/recognitions/RecognitionDetailPage';\nimport UpdateRecognitionPage from './pages/recognitions/UpdateRecognitionPage';\nimport CreateNominationPage from './pages/nominations/CreateNominationPage';\nimport NominationDetailPage from './pages/nominations/NominationDetailPage';\nimport UpdateNominationPage from './pages/nominations/UpdateNominationPage';\nimport ProfilePage from './pages/profiles/ProfilePage';\nimport EditProfileForm from './pages/profiles/EditProfileForm';\nimport SignInForm from './pages/auth/SignInForm';\nimport SignUpForm from './pages/auth/SignUpForm';\n\nfunction App() {\n  const { currentUserLoaded } = useCurrentUser();\n\n  if (!currentUserLoaded) return null; // prevents broken rendering\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          <Route exact path=\"/\" component={HomeFeedPage} />\n\n          {/* Create, Update and Detail for Recognitions */}\n          <Route\n            exact\n            path=\"/recognitions/create\"\n            component={CreateRecognitionPage}\n          />\n          <Route\n            exact\n            path=\"/recognitions/:id\"\n            component={RecognitionDetailPage}\n          />\n          <Route\n            exact\n            path=\"/recognitions/:id/edit\"\n            component={UpdateRecognitionPage}\n          />\n\n          {/* Create, Update and Detail for Nominations */}\n          <Route\n            exact\n            path=\"/nominations/create\"\n            component={CreateNominationPage}\n          />\n          <Route\n            exact\n            path=\"/nominations/:id\"\n            component={NominationDetailPage}\n          />\n          <Route\n            exact\n            path=\"/nominations/:id/edit\"\n            component={UpdateNominationPage}\n          />\n\n          {/* User Profile */}\n          <Route exact path=\"/profiles/:id\" component={ProfilePage} />\n          <Route exact path=\"/profiles/:id/edit\" component={EditProfileForm} />\n\n          {/* Auth */}\n          <Route exact path=\"/login\" component={SignInForm} />\n          <Route exact path=\"/register\" component={SignUpForm} />\n\n          {/* 404 fallback */}\n          <Route render={() => <p>Page not found</p>} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <CurrentUserProvider>\n        <App />\n      </CurrentUserProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeedToggleButtons\":\"HomeFeedPage_FeedToggleButtons__2iujI\",\"FeedButton\":\"HomeFeedPage_FeedButton__TzTd8\",\"FeedToggleActive\":\"HomeFeedPage_FeedToggleActive__1r3Ap\",\"FeedToggleInactive\":\"HomeFeedPage_FeedToggleInactive__1n6t-\",\"FeedContent\":\"HomeFeedPage_FeedContent__2yePL\",\"PostCard\":\"HomeFeedPage_PostCard__KOPm-\",\"SearchFilterBlock\":\"HomeFeedPage_SearchFilterBlock__15nv6\",\"FilterInput\":\"HomeFeedPage_FilterInput__2SRFV\",\"FilterSelect\":\"HomeFeedPage_FilterSelect__Dljfr\",\"PersonItem\":\"HomeFeedPage_PersonItem__24LIT\",\"PersonContent\":\"HomeFeedPage_PersonContent__3kTEO\",\"DesktopOnly\":\"HomeFeedPage_DesktopOnly__1EZIE\",\"MobileOnly\":\"HomeFeedPage_MobileOnly__3q6H7\",\"row\":\"HomeFeedPage_row__fzNUj\",\"SidebarWrapper\":\"HomeFeedPage_SidebarWrapper__3D4BG\",\"PeopleList\":\"HomeFeedPage_PeopleList__1Ewhz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileWrapper\":\"Profile_ProfileWrapper__2hX_C\",\"Banner\":\"Profile_Banner__1TXeK\",\"TwoColumnFeed\":\"Profile_TwoColumnFeed__1Kev4\",\"FeedColumn\":\"Profile_FeedColumn__1daGe\",\"CompanyName\":\"Profile_CompanyName__3xp_1\",\"AvatarWrapper\":\"Profile_AvatarWrapper__1k8ru\",\"NameRow\":\"Profile_NameRow__1yZFR\",\"EditIcon\":\"Profile_EditIcon__Du4pB\",\"ProfileDetails\":\"Profile_ProfileDetails__Z1h8m\",\"IncompleteNote\":\"Profile_IncompleteNote__1jg-n\",\"Department\":\"Profile_Department__281vj\",\"Bio\":\"Profile_Bio__3Zlhj\",\"SectionTitlePurple\":\"Profile_SectionTitlePurple__HDOQ6\",\"SectionTitleYellow\":\"Profile_SectionTitleYellow__1YogP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1lbrG\",\"Main\":\"App_Main__1eJsZ\",\"YellowButton\":\"App_YellowButton__1Qzej\",\"BlueButton\":\"App_BlueButton__2jV1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentSection\":\"Comment_CommentSection__3CGtR\",\"SingleComment\":\"Comment_SingleComment__37rPz\",\"CommentAuthor\":\"Comment_CommentAuthor__3lWSc\",\"CommentText\":\"Comment_CommentText__ttCTQ\",\"CommentDate\":\"Comment_CommentDate__1Z1_P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggestionBox\":\"PeopleSearchBar_suggestionBox__37Xwh\",\"suggestionItem\":\"PeopleSearchBar_suggestionItem__28X7m\",\"FullWidthNomineeSearch\":\"PeopleSearchBar_FullWidthNomineeSearch__2-fAC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__3uD0u\",\"AvatarFallback\":\"Avatar_AvatarFallback__1vL5U\",\"sm\":\"Avatar_sm__203uy\",\"md\":\"Avatar_md__xFaTA\",\"lg\":\"Avatar_lg__2Ddpb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownToggle\":\"MoreDropdown_DropdownToggle__h1s3T\",\"DropdownItem\":\"MoreDropdown_DropdownItem__m5TH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderWrapper\":\"LoadingIndicator_LoaderWrapper__3GUK2\",\"Spinner\":\"LoadingIndicator_Spinner__1L6aF\",\"spin\":\"LoadingIndicator_spin__3hhrF\",\"Message\":\"LoadingIndicator_Message__2bNaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardWrapper\":\"PostCard_CardWrapper__1aPfU\",\"PostHeaderWrapper\":\"PostCard_PostHeaderWrapper__368M3\",\"HeaderLeft\":\"PostCard_HeaderLeft__1-KZy\",\"AvatarWithName\":\"PostCard_AvatarWithName__1mwHj\",\"PostTitle\":\"PostCard_PostTitle__amYVY\",\"PostContent\":\"PostCard_PostContent__1mF67\",\"PostImage\":\"PostCard_PostImage__2S_6F\",\"ViewFullPostWrapper\":\"PostCard_ViewFullPostWrapper__6ZfRw\",\"InteractiveTextLink\":\"PostCard_InteractiveTextLink__3ond2\",\"InteractiveNameLink\":\"PostCard_InteractiveNameLink__2hlHX\",\"PostFooter\":\"PostCard_PostFooter__3RbvB\",\"PostChildren\":\"PostCard_PostChildren__7MF44\",\"ActionItem\":\"PostCard_ActionItem__1_YXt\",\"Clickable\":\"PostCard_Clickable__3KGDz\",\"DisabledIcon\":\"PostCard_DisabledIcon__35ZDD\",\"LoginToComment\":\"PostCard_LoginToComment__3t1Dq\",\"TagSection\":\"PostCard_TagSection__32VHi\",\"Tag\":\"PostCard_Tag__2UN8U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"NavBar_Navbar__1-xmk\",\"nav-link\":\"NavBar_nav-link__3OyqH\"};"],"sourceRoot":""}