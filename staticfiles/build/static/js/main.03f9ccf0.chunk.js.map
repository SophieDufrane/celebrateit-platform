{"version":3,"sources":["styles/PostForm.module.css","styles/AuthForm.module.css","api/axiosDefaults.js","utils/utils.js","contexts/CurrentUserContext.js","components/NavBar.js","components/MoreDropdown.js","components/ConfirmDeleteModal.js","components/Avatar.js","components/PostHeader.js","components/PostLayoutShell.js","pages/recognitions/RecognitionCard.js","pages/nominations/NominationCard.js","components/LoadingIndicator.js","components/PeopleSearchBar.js","pages/home/HomeFeedPage.js","components/FormFooter.js","components/PostForm.js","pages/recognitions/CreateRecognitionPage.js","pages/comment/CommentForm.js","pages/comment/Comment.js","pages/comment/CommentEditForm.js","pages/recognitions/RecognitionDetailPage.js","pages/recognitions/UpdateRecognitionPage.js","pages/nominations/CreateNominationPage.js","pages/nominations/NominationDetailPage.js","pages/nominations/UpdateNominationPage.js","pages/profiles/ProfilePage.js","pages/profiles/EditProfileForm.js","assets/auth_pic.jpeg","pages/auth/SignInForm.js","assets/register_pic.jpg","pages/auth/SignUpForm.js","App.js","reportWebVitals.js","index.js","styles/HomeFeedPage.module.css","styles/Profile.module.css","App.module.css","styles/Comment.module.css","styles/PeopleSearchBar.module.css","styles/Avatar.module.css","styles/MoreDropdown.module.css","styles/LoadingIndicator.module.css","styles/PostCard.module.css","styles/NavBar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","removeTokenTimestamp","localStorage","removeItem","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","currentUserLoaded","setCurrentUserLoaded","history","useHistory","requestInterceptorRef","useRef","responseInterceptorRef","useEffect","async","data","get","err","handleMount","interval","setInterval","then","_ref2","catch","clearInterval","interceptors","request","use","config","token","getItem","Promise","reject","current","isRefreshing","_isRefreshing","setItem","access","common","userData","prevUser","push","response","_err$response","status","Authorization","console","warn","eject","_jsx","Provider","value","NavBar","expanded","setExpanded","Navbar","className","styles","expand","fixed","onToggle","prev","_jsxs","Container","Brand","as","NavLink","to","first_name","username","Toggle","Collapse","id","Nav","Link","exact","onClick","_Fragment","profile_id","window","location","assign","handleSignOut","ThreeDots","React","forwardRef","ref","DropdownToggle","e","preventDefault","role","MoreDropdown","handleEdit","handleDelete","Dropdown","align","Menu","Item","DropdownItem","ConfirmDeleteModal","show","onHide","onConfirm","message","Modal","centered","Header","closeButton","Title","Body","Footer","Button","variant","Avatar","props","src","alt","size","last_name","avatarSize","avatarAlt","AvatarFallback","toUpperCase","PostHeader","profile_image","display_name","created_at","renderDropdown","PostHeaderWrapper","HeaderLeft","AvatarWithName","PostLayoutShell","title","content","user","postActions","extraContent","linkTo","metaTop","cardBody","Card","InteractiveNameLink","MetaTopWrapper","PostTitle","PostContent","ViewFullWrapper","PostChildren","CardWrapper","style","textDecoration","color","RecognitionCard","image","likes_count","comments_count","like_id","setRecognitions","onPostDelete","detailUrl","editUrl","deleteUrl","showConfirm","setShowConfirm","truncatedContent","length","slice","lastIndexOf","PostFooter","ActionItem","is_user","OverlayTrigger","placement","overlay","Tooltip","DisabledIcon","delete","map","item","Clickable","Heart","HeartOutline","InteractiveTextLink","ImageWrapper","PostImage","NominationCard","nominee_profile_id","nominee_display_name","nominee","tag","tag_color","NominationMeta","Tag","backgroundColor","LoadingIndicator","LoaderWrapper","Spinner","Message","PeopleSearchBar","onUserSelect","enableSelectionDisplay","prefillValue","placeholderText","input","setInput","results","setResults","delayDebounce","setTimeout","trim","error","clearTimeout","Form","Control","type","placeholder","onChange","target","autoComplete","suggestionBox","suggestionItem","fullName","handleSelect","HomeFeedPage","useLocation","log","showDeleted","setShowDeleted","showNominations","setShowNominations","hasLoaded","setHasLoaded","searchTerm","setSearchTerm","selectedDepartment","setSelectedDepartment","recognitions","nominations","setNominations","people","setPeople","isDeletedParam","URLSearchParams","search","timer","res","finally","Alert","onClose","dismissible","Row","Col","md","feedStyles","FeedContent","FeedToggleButtons","FeedButton","FeedToggleInactive","FeedToggleActive","nom","nominator","setPosts","deletedId","prevNoms","filter","n","r","SidebarWrapper","SearchFilterBlock","MobileOnly","FilterInput","DesktopOnly","FilterSelect","Set","p","department","Boolean","dept","PeopleList","person","matchesName","toLowerCase","includes","matchesDepartment","ListGroup","PersonItem","cursor","PersonContent","FormFooter","submitText","onCancel","disabled","showCancel","formStyles","FormButtonRow","sharedStyles","YellowButton","BlueButton","goBack","PostForm","_errors$title","_errors$content","handleChange","handleSubmit","errors","onSubmit","FormWrapper","Group","controlId","FormGroupSpacing","name","Array","isArray","idx","rows","CreateRecognitionPage","recognitionData","setRecognitionData","setErrors","event","files","prevErrors","file","alert","formData","FormData","append","currentUserData","_err$response2","FormMediaWrapper","AllowedFormats","CommentForm","postId","onCommentSubmit","setContent","isValidComment","Comment","comment","setEditingComment","setShowDeleteModal","SingleComment","CommentAuthor","CommentText","CommentDate","CommentEditForm","setComments","patch","prevComments","c","replace","pathname","RecognitionDetailPage","useParams","recognition","setRecognition","comments","showCommentSuccess","setShowCommentSuccess","editingComment","showDeleteModal","isNomination","dropdownMenu","searchParams","isCreated","isUpdated","commentEdited","commentDeleted","showSuccess","successMessage","newComment","LoginToComment","commentStyles","CommentSection","CommentBlock","UpdateRecognitionPage","removeImage","setRemoveImage","_err$response3","FormImagePreview","Check","label","checked","Label","htmlFor","CreateNominationPage","nominationData","setNominationData","selectedNomineeId","setSelectedNomineeId","nomineeNameParam","setNomineeNameParam","tags","setTags","fetchTags","queryParams","prefillId","prefillName","isNaN","parseInt","prevData","_currentUser$currentU","localErrors","pk","serverErrors","handleCancel","peopleSearchStyles","FullWidthNomineeSearch","FullWidthInput","tagObj","NominationDetailPage","nomination","setNomination","cleanUrl","padding","borderRadius","fontSize","UpdateNominationPage","postData","setPostData","t","ProfilePage","scrollTo","showUpdated","setShowUpdated","profile","setProfile","hasLoadedProfile","setHasLoadedProfile","hasLoadedRecognitions","setHasLoadedRecognitions","hasLoadedNominations","setHasLoadedNominations","fetchProfile","isCoreInfoMissing","isOptionalInfoMissing","presentation","profileStyles","ProfileWrapper","Banner","AvatarWrapper","ProfileDetails","NameRow","is_user_profile","EditIcon","hasFullName","fallback","param","encodeURIComponent","IncompleteNote","Department","Bio","TwoColumnFeed","FeedColumn","SectionTitlePurple","SectionTitleYellow","nominee_username","EditProfileForm","firstName","setFirstName","lastName","setLastName","setPresentation","imageFile","setImageFile","ReadOnlyWrapper","ReadOnlyInput","readOnly","tabIndex","msg","SignInForm","setShowSuccess","showLogout","setShowLogout","signInData","setSignInData","password","loginErrors","setLoginErrors","authStyles","gradient","gradientOverlay","splitBox","formBox","AuthTitle","Object","keys","ErrorBox","values","flat","index","access_token","refresh_token","refreshTokenTimestamp","jwtDecode","exp","setTokenTimestamp","CenteredButton","AuthLink","AuthLinkHighlight","imageBox","authPic","AuthImage","SignUpForm","signUpData","setSignUpData","password1","password2","registerPic","App","Main","Switch","Route","path","component","render","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","document","getElementById"],"mappings":"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","file":"static/js/main.03f9ccf0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"FormWrapper\":\"PostForm_FormWrapper__36o49\",\"FormGroupSpacing\":\"PostForm_FormGroupSpacing__2YMOe\",\"FormButtonRow\":\"PostForm_FormButtonRow__ISUGS\",\"FormMediaWrapper\":\"PostForm_FormMediaWrapper__3Ey43\",\"FormImagePreview\":\"PostForm_FormImagePreview__2Oka5\",\"CurrentImage\":\"PostForm_CurrentImage__3gjY8\",\"RemoveImageCheckbox\":\"PostForm_RemoveImageCheckbox__2Gu0U\",\"AllowedFormats\":\"PostForm_AllowedFormats__3jCo-\",\"SuggestionBox\":\"PostForm_SuggestionBox__34k9g\",\"SuggestionItem\":\"PostForm_SuggestionItem__2asAs\",\"ReadOnlyWrapper\":\"PostForm_ReadOnlyWrapper__23vz9\",\"ReadOnlyInput\":\"PostForm_ReadOnlyInput__32TL0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gradient\":\"AuthForm_gradient__4bNq5\",\"gradientOverlay\":\"AuthForm_gradientOverlay__1aP-S\",\"splitBox\":\"AuthForm_splitBox__3Qoc9\",\"formBox\":\"AuthForm_formBox__2Tlgu\",\"imageBox\":\"AuthForm_imageBox__1jRNM\",\"FormWrapper\":\"AuthForm_FormWrapper__2_2G7\",\"FormGroupSpacing\":\"AuthForm_FormGroupSpacing__2YsuF\",\"CenteredButton\":\"AuthForm_CenteredButton__mPhxp\",\"AuthTitle\":\"AuthForm_AuthTitle__tI1Xj\",\"AuthLink\":\"AuthForm_AuthLink__2nuPw\",\"AuthLinkHighlight\":\"AuthForm_AuthLinkHighlight__2veRz\",\"ErrorBox\":\"AuthForm_ErrorBox__2o8wb\",\"AuthImage\":\"AuthForm_AuthImage__1OpaW\"};","// IMPORTANT!!\n// Because this React app is running in the same workspace as the API,\n\n// there is no need to set a separate baseURL until you reach deployment.\n\n// Setting a baseURL before you reach deployment will cause errors\nimport axios from 'axios';\n\naxios.defaults.baseURL = '/api';\naxios.defaults.headers.post['Content-Type'] = 'multipart/form-data';\naxios.defaults.withCredentials = true;\n\nexport const axiosReq = axios.create();\nexport const axiosRes = axios.create();\n","import jwtDecode from \"jwt-decode\";\nimport { axiosReq } from \"../api/axiosDefaults\";\n\nexport const fetchMoreData = async (resource, setResource) => {\n  try {\n    const { data } = await axiosReq.get(resource.next);\n    setResource((prevResource) => ({\n      ...prevResource,\n      next: data.next,\n      results: data.results.reduce(\n        (acc, cur) =>\n          acc.some((accResult) => accResult.id === cur.id)\n            ? acc\n            : [...acc, cur],\n        prevResource.results\n      ),\n    }));\n  } catch (err) {}\n};\n\nexport const setTokenTimestamp = (data) => {\n  const refreshTokenTimestamp = jwtDecode(data?.refresh_token).exp;\n  localStorage.setItem(\"refreshTokenTimestamp\", refreshTokenTimestamp);\n};\n\nexport const shouldRefreshToken = () =>\n  !!localStorage.getItem(\"refreshTokenTimestamp\");\n\nexport const removeTokenTimestamp = () => {\n  localStorage.removeItem(\"refreshTokenTimestamp\");\n};\n","import { createContext, useContext, useEffect, useState, useRef } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router\";\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\nimport { removeTokenTimestamp, shouldRefreshToken } from \"../utils/utils\";\n\nexport const CurrentUserContext = createContext();\nexport const SetCurrentUserContext = createContext();\n\nexport const useCurrentUser = () => useContext(CurrentUserContext);\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\n\nexport function CurrentUserProvider({ children }) {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [currentUserLoaded, setCurrentUserLoaded] = useState(false);\n  const history = useHistory();\n\n  // PATCH 8: Track interceptor IDs so we can eject them on cleanup\n  const requestInterceptorRef = useRef(null);\n  const responseInterceptorRef = useRef(null);\n\n  // PATCH 0: Initial fetch of current user\n  const handleMount = async () => {\n    try {\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\n      setCurrentUser(data);\n    } catch (err) {\n    } finally {\n      setCurrentUserLoaded(true);\n    }\n  };\n\n  useEffect(() => {\n    handleMount();\n    // PATCH 5: Soft-ping the user endpoint every 5 minutes to rehydrate state\n    const interval = setInterval(() => {\n      axiosRes\n        .get(\"/dj-rest-auth/user/\")\n        .then(({ data }) => {\n          setCurrentUser(data);\n        })\n        .catch(() => {});\n    }, 5 * 60 * 1000); // 5 minutes\n\n    return () => clearInterval(interval); // clean up\n  }, []);\n\n  useEffect(() => {\n    // PATCH 1 (updated): Attach access token only if currentUser is defined\n    axiosReq.interceptors.request.use(\n      (config) => {\n        const token = localStorage.getItem(\"access_token\");\n\n        // PATCH 10: Prevent ghost token usage if user is logged out\n        if (token && currentUser) {\n          config.headers[\"Authorization\"] = `Bearer ${token}`;\n        } else {\n          delete config.headers[\"Authorization\"]; // clean header if no token\n        }\n        return config;\n      },\n      (err) => Promise.reject(err)\n    );\n\n    // PATCH 2: Refresh token before protected requests if timestamp exists\n    requestInterceptorRef.current = axiosReq.interceptors.request.use(\n      async (config) => {\n        const isRefreshing = config._isRefreshing;\n        if (!localStorage.getItem(\"refresh_token\")) {\n          return config;\n        }\n        if (shouldRefreshToken() && !isRefreshing) {\n          try {\n            const { data } = await axios.post(\"/dj-rest-auth/token/refresh/\");\n            localStorage.setItem(\"access_token\", data.access);\n            axiosReq.defaults.headers.common[\n              \"Authorization\"\n            ] = `Bearer ${data.access}`;\n\n            // PATCH 7: Skip rehydration if already loaded to avoid repeat loops\n            if (!currentUser) {\n              const { data: userData } = await axiosRes.get(\n                \"/dj-rest-auth/user/\"\n              );\n              setCurrentUser(userData);\n            }\n          } catch (err) {\n            // PATCH 3: Refresh token failed during request  force logout\n            setCurrentUser((prevUser) => {\n              if (prevUser) history.push(\"/signin\");\n              return null;\n            });\n            removeTokenTimestamp();\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            return config;\n          }\n        }\n        return config;\n      },\n      (err) => Promise.reject(err)\n    );\n\n    // PATCH 4 + 6: On response 401, try to refresh and rehydrate user context\n    responseInterceptorRef.current = axiosRes.interceptors.response.use(\n      (response) => response,\n      async (err) => {\n        if (err.response?.status === 401) {\n          try {\n            const { data } = await axios.post(\"/dj-rest-auth/token/refresh/\");\n            localStorage.setItem(\"access_token\", data.access);\n            axiosReq.defaults.headers.common[\n              \"Authorization\"\n            ] = `Bearer ${data.access}`;\n            err.config.headers = {\n              ...err.config.headers,\n              Authorization: `Bearer ${data.access}`,\n            };\n\n            // PATCH 6: Rehydrate user before retrying the failed request\n            const { data: userData } = await axiosRes.get(\n              \"/dj-rest-auth/user/\"\n            );\n            setCurrentUser(userData);\n\n            // Retry original request\n            return axiosReq(err.config);\n          } catch (err) {\n            // PATCH 3 (continued): Refresh failed on response  force logout\n            console.warn(\"TOKEN REFRESH FAILED  Forcing logout.\");\n            setCurrentUser((prevUser) => {\n              if (prevUser) history.push(\"/signin\");\n              return null;\n            });\n            removeTokenTimestamp();\n            localStorage.removeItem(\"access_token\");\n            localStorage.removeItem(\"refresh_token\");\n            return Promise.reject(err);\n          }\n        }\n        return Promise.reject(err); // other non-401 errors (e.g., 403, 500)\n      }\n    );\n    // PATCH 9: Eject interceptors on cleanup to avoid duplicate setups\n    return () => {\n      if (requestInterceptorRef.current !== null) {\n        axiosReq.interceptors.request.eject(requestInterceptorRef.current);\n      }\n      if (responseInterceptorRef.current !== null) {\n        axiosRes.interceptors.response.eject(responseInterceptorRef.current);\n      }\n    };\n  }, [history, currentUser]);\n\n  return (\n    <CurrentUserContext.Provider value={{ currentUser, currentUserLoaded }}>\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\n        {children}\n      </SetCurrentUserContext.Provider>\n    </CurrentUserContext.Provider>\n  );\n}\n","import React, { useState } from \"react\";\nimport { Navbar, Container, Nav } from \"react-bootstrap\";\nimport { NavLink } from \"react-router-dom\";\nimport styles from \"../styles/NavBar.module.css\";\nimport {\n  useCurrentUser,\n  useSetCurrentUser,\n} from \"../contexts/CurrentUserContext\";\nimport { axiosReq } from \"../api/axiosDefaults\";\nimport { removeTokenTimestamp } from \"../utils/utils\";\n\nfunction NavBar() {\n  // Auth context\n  const { currentUser, currentUserLoaded } = useCurrentUser();\n  const setCurrentUser = useSetCurrentUser();\n\n  // Navbar Toggle State\n  const [expanded, setExpanded] = useState(false);\n\n  // Handlers\n  const handleSignOut = async () => {\n    try {\n      await axiosReq.post(\"/dj-rest-auth/logout/\");\n      setCurrentUser(null);\n      removeTokenTimestamp();\n      localStorage.removeItem(\"access_token\");\n      localStorage.removeItem(\"refresh_token\");\n      window.location.assign(\"/\"); // full reset to avoid ghost state\n    } catch (err) {\n      // console.error('Logout failed:', err);\n      // TODO: add user feedback on error\n    }\n  };\n\n  return (\n    <Navbar\n      className={styles.Navbar}\n      expand=\"md\"\n      fixed=\"top\"\n      expanded={expanded}\n      onToggle={() => setExpanded((prev) => !prev)}\n    >\n      <Container>\n        <Navbar.Brand as={NavLink} to=\"/\">\n          CelebrateIt{\" \"}\n          {currentUser?.first_name || currentUser?.username\n            ? `| ${currentUser.first_name || currentUser.username}`\n            : \"\"}\n        </Navbar.Brand>\n        <Navbar.Toggle\n          aria-controls=\"basic-navbar-nav\"\n          className=\"custom-toggler\"\n        />\n        <Navbar.Collapse id=\"basic-navbar-nav\">\n          <Nav className=\"ml-auto text-left\">\n            <Nav.Link\n              as={NavLink}\n              exact\n              to=\"/\"\n              onClick={() => setExpanded(false)}\n            >\n              Home\n            </Nav.Link>\n\n            {currentUser && currentUser ? (\n              <>\n                <NavLink\n                  to=\"/recognitions/create\"\n                  className=\"nav-link\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Recognize\n                </NavLink>\n                <NavLink\n                  to=\"/nominations/create\"\n                  className=\"nav-link\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Nominate\n                </NavLink>\n                {currentUser.profile_id && (\n                  <NavLink\n                    to={`/profiles/${currentUser.profile_id}`}\n                    className=\"nav-link\"\n                    onClick={() => setExpanded(false)}\n                  >\n                    Profile\n                  </NavLink>\n                )}\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/\"\n                  onClick={() => {\n                    setExpanded(false);\n                    handleSignOut();\n                  }}\n                >\n                  Logout\n                </Nav.Link>\n              </>\n            ) : currentUserLoaded ? (\n              <>\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/login\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Log In\n                </Nav.Link>\n                <Nav.Link\n                  as={NavLink}\n                  to=\"/register\"\n                  onClick={() => setExpanded(false)}\n                >\n                  Register\n                </Nav.Link>\n              </>\n            ) : null}\n          </Nav>\n        </Navbar.Collapse>\n      </Container>\n    </Navbar>\n  );\n}\n\nexport default NavBar;\n","import React from 'react';\nimport { Dropdown } from 'react-bootstrap';\nimport styles from '../styles/MoreDropdown.module.css';\n\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\n  <i\n    className={`fas fa-ellipsis-v ${styles.DropdownToggle}`}\n    ref={ref}\n    onClick={(e) => {\n      e.preventDefault();\n      onClick(e);\n    }}\n    role=\"button\"\n    aria-label=\"options\"\n  />\n));\n\nfunction MoreDropdown({ handleEdit, handleDelete }) {\n  return (\n    <Dropdown align=\"end\">\n      <Dropdown.Toggle as={ThreeDots} />\n\n      <Dropdown.Menu>\n        {handleEdit && (\n          <Dropdown.Item className={styles.DropdownItem} onClick={handleEdit}>\n            <i className=\"fas fa-edit\" />\n            Edit\n          </Dropdown.Item>\n        )}\n        {handleDelete && (\n          <Dropdown.Item className={styles.DropdownItem} onClick={handleDelete}>\n            <i className=\"fas fa-trash-alt\" />\n            Delete\n          </Dropdown.Item>\n        )}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n\nexport default MoreDropdown;\n","import React from 'react';\nimport { Modal, Button } from 'react-bootstrap';\n\nfunction ConfirmDeleteModal({\n  show,\n  onHide,\n  onConfirm,\n  message = 'Are you sure you want to delete this?',\n}) {\n  return (\n    <Modal show={show} onHide={onHide} centered>\n      <Modal.Header closeButton>\n        <Modal.Title>Confirm Deletion</Modal.Title>\n      </Modal.Header>\n      <Modal.Body>{message}</Modal.Body>\n      <Modal.Footer>\n        <Button variant=\"secondary\" onClick={onHide}>\n          Cancel\n        </Button>\n        <Button variant=\"danger\" onClick={onConfirm}>\n          Delete\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n}\n\nexport default ConfirmDeleteModal;\n","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\nfunction Avatar(props) {\r\n  const { src, alt, size, first_name, last_name, username } = props;\r\n\r\n  const avatarSize = size || \"md\";\r\n  const avatarAlt = alt || \"avatar\";\r\n\r\n  const getInitials = () => {\r\n    if (first_name && last_name) {\r\n      return `${first_name[0]}${last_name[0]}`.toUpperCase();\r\n    }\r\n    if (first_name) {\r\n      return first_name[0].toUpperCase();\r\n    }\r\n    if (last_name) {\r\n      return last_name[0].toUpperCase();\r\n    }\r\n    if (username) {\r\n      return username[0].toUpperCase();\r\n    }\r\n    return \"?\";\r\n  };\r\n\r\n  return src ? (\r\n    <img\r\n      src={src}\r\n      alt={avatarAlt}\r\n      className={`${styles.Avatar} ${styles[avatarSize]}`}\r\n    />\r\n  ) : (\r\n    <div className={`${styles.AvatarFallback} ${styles[avatarSize]}`}>\r\n      {getInitials()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Avatar;\r\n","import React from \"react\";\nimport Avatar from \"./Avatar\";\nimport styles from \"../styles/PostCard.module.css\";\n\n/**\n * Shared header for posts/nominations.\n * Includes avatar placeholder, display name, date, and optional dropdown.\n */\nfunction PostHeader(props) {\n  const {\n    profile_image,\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    created_at,\n    renderDropdown,\n  } = props;\n\n  return (\n    <div className={styles.PostHeaderWrapper}>\n      <div className={styles.HeaderLeft}>\n        <div className={styles.AvatarWithName}>\n          <Avatar\n            src={profile_image}\n            first_name={first_name}\n            last_name={last_name}\n            username={username}\n            size=\"md\"\n          />\n          <strong>{display_name}</strong>\n        </div>\n      </div>\n      <div className=\"d-flex align-items-center\">\n        <small className=\"text-muted me-2\">{created_at}</small>\n        {renderDropdown}\n      </div>\n    </div>\n  );\n}\n\nexport default PostHeader;\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Card } from \"react-bootstrap\";\nimport styles from \"../styles/PostCard.module.css\";\nimport PostHeader from \"./PostHeader\";\n\nfunction PostLayoutShell(props) {\n  const {\n    title,\n    content,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    created_at,\n    renderDropdown,\n    postActions,\n    children,\n    extraContent,\n    linkTo,\n    metaTop,\n  } = props;\n\n  const cardBody = (\n    <Card.Body>\n      <PostHeader\n        display_name={\n          profile_id ? (\n            <Link\n              to={`/profiles/${profile_id}`}\n              className={styles.InteractiveNameLink}\n            >\n              {display_name}\n            </Link>\n          ) : (\n            display_name\n          )\n        }\n        profile_image={profile_image}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        created_at={created_at}\n        renderDropdown={renderDropdown}\n      />\n      {/* Optional metadata above title (e.g. nominee & tag for nominations) */}\n      {metaTop && <div className={styles.MetaTopWrapper}>{metaTop}</div>}\n      {/* Always show post title and content */}\n      <h5 className={styles.PostTitle}>{title}</h5>\n      <p className={styles.PostContent}>{content}</p>\n      {/* Optional extra content after main content (e.g. 'View full post' link) */}\n      {extraContent && (\n        <div className={styles.ViewFullWrapper}>{extraContent}</div>\n      )}\n      {/* Detail-only content (comment form + comments) */}\n      {children && <div className={styles.PostChildren}>{children}</div>}\n    </Card.Body>\n  );\n\n  return (\n    <Card className={`mb-3 ${styles.CardWrapper}`}>\n      {linkTo ? (\n        <Link to={linkTo} style={{ textDecoration: \"none\", color: \"inherit\" }}>\n          {cardBody}\n        </Link>\n      ) : (\n        cardBody\n      )}\n\n      {/* Like and Comment section */}\n      {postActions}\n    </Card>\n  );\n}\n\nexport default PostLayoutShell;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\n\nfunction RecognitionCard(props) {\n  // Use frontend naming for routing, but backend naming for delete endpoint\n  const {\n    id,\n    title,\n    content,\n    image,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    created_at,\n    likes_count,\n    comments_count,\n    like_id,\n    setRecognitions,\n    onPostDelete,\n    detailUrl = `/recognitions/${id}`,\n    editUrl = `/recognitions/${id}/edit`,\n    deleteUrl = `/posts/${id}/`,\n  } = props;\n\n  // User & Navigation\n  const { currentUser, currentUserLoaded } = useCurrentUser();\n  const history = useHistory();\n\n  // Local UI State\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // Wait until auth state is resolved to avoid false unauthenticated UI\n  if (!currentUserLoaded) return null;\n\n  // Derived display content\n  const truncatedContent =\n    content.length > 150\n      ? `${content.slice(0, content.slice(0, 150).lastIndexOf(\" \"))}...`\n      : content;\n\n  // Event Handlers\n  const handleLike = async () => {\n    try {\n      const { data } = await axiosRes.post(\"/likes/\", {\n        post: id,\n      });\n\n      setRecognitions((prev) =>\n        prev.map((item) =>\n          item.id === id\n            ? { ...item, likes_count: item.likes_count + 1, like_id: data.id }\n            : item\n        )\n      );\n    } catch (err) {\n      // TODO: handle like failure (e.g., notify user)\n    }\n  };\n\n  const handleUnlike = async () => {\n    try {\n      await axiosRes.delete(`/likes/${like_id}/`);\n\n      setRecognitions((prev) =>\n        prev.map((item) =>\n          item.id === id\n            ? { ...item, likes_count: item.likes_count - 1, like_id: null }\n            : item\n        )\n      );\n    } catch (err) {\n      // TODO: handle unlike failure (e.g., notify user)\n    }\n  };\n\n  const handleDelete = () => setShowConfirm(true);\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(deleteUrl);\n      if (onPostDelete) {\n        onPostDelete(id);\n      }\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // console.error(\"Delete failed:\", err);\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  // Footer: Likes + Comments\n  const postActions = (\n    <div className={styles.PostFooter}>\n      <div className={styles.ActionItem}>\n        {props.is_user ? (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-self-like-${id}`}>\n                Can't like your own recognition!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"You can't like your own recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        ) : like_id ? (\n          <span\n            onClick={handleUnlike}\n            className={`${styles.ActionItem} ${styles.Clickable}`}\n            aria-label=\"Unlike this recognition\"\n          >\n            <i\n              className={`fas fa-thumbs-up ${styles.Heart} ${styles.Clickable}`}\n            />\n          </span>\n        ) : currentUser ? (\n          <span\n            onClick={handleLike}\n            className={`${styles.ActionItem} ${styles.Clickable}`}\n            aria-label=\"Like this recognition\"\n          >\n            <i\n              className={`far fa-thumbs-up ${styles.HeartOutline} ${styles.Clickable}`}\n            />\n          </span>\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-login-like-${id}`}>\n                Log in to like recognitions!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"Log in to like this recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        )}\n        <span>{likes_count}</span>\n      </div>\n      <Link\n        to={`/recognitions/${id}`}\n        className={`${styles.ActionItem} ${styles.Clickable}`}\n      >\n        <i className=\"far fa-comment\" />\n        <span>{comments_count}</span>\n      </Link>\n    </div>\n  );\n\n  return (\n    <>\n      <PostLayoutShell\n        title={title}\n        content={truncatedContent}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        display_name={display_name}\n        profile_image={profile_image}\n        profile_id={profile_id}\n        created_at={created_at}\n        likes_count={likes_count}\n        comments_count={comments_count}\n        renderDropdown={\n          props.is_user && (\n            <MoreDropdown\n              handleEdit={() => history.push(editUrl)}\n              handleDelete={handleDelete}\n            />\n          )\n        }\n        postActions={postActions}\n        extraContent={\n          <Link to={detailUrl} className={styles.InteractiveTextLink}>\n            View full recognition\n          </Link>\n        }\n      >\n        {image && (\n          <div className={styles.ImageWrapper}>\n            <img src={image} alt={title} className={styles.PostImage} />\n          </div>\n        )}\n      </PostLayoutShell>\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </>\n  );\n}\n\nexport default RecognitionCard;\n","import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\n\nfunction NominationCard(props) {\n  const {\n    id,\n    title,\n    content,\n    user, // The username string used to check ownership (for dropdown)\n    username, // Used only for fallback avatar initials\n    first_name, // Used for fallback avatar initials\n    last_name, // Used for fallback avatar initials\n    display_name, // The public full name shown next to avatar\n    profile_image,\n    profile_id,\n    nominee_profile_id,\n    created_at,\n    nominee_display_name: nominee,\n    tag,\n    tag_color,\n    onPostDelete,\n    detailUrl = `/nominations/${id}`,\n    editUrl = `/nominations/${id}/edit`,\n    deleteUrl = `/nominations/${id}/`,\n  } = props;\n\n  // User & Navigation\n  const { currentUserLoaded } = useCurrentUser();\n  const history = useHistory();\n\n  // Local UI State\n  const [showConfirm, setShowConfirm] = useState(false);\n\n  // Wait until auth state is resolved to avoid false unauthenticated UI\n  if (!currentUserLoaded) return null;\n\n  // Derived display content\n  const truncatedContent =\n    content.length > 150\n      ? `${content.slice(0, content.slice(0, 150).lastIndexOf(\" \"))}...`\n      : content;\n\n  // Event Handlers\n  const handleDelete = () => setShowConfirm(true);\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(deleteUrl);\n      if (onPostDelete) {\n        onPostDelete(id);\n      }\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // console.error('Delete failed:', err);\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  return (\n    <>\n      <PostLayoutShell\n        title={title}\n        content={truncatedContent}\n        user={user}\n        username={username}\n        first_name={first_name}\n        last_name={last_name}\n        display_name={display_name}\n        profile_image={profile_image}\n        profile_id={profile_id}\n        nominee_profile_id={nominee_profile_id}\n        created_at={created_at}\n        renderDropdown={\n          props.is_user && (\n            <MoreDropdown\n              handleEdit={() => history.push(editUrl)}\n              handleDelete={handleDelete}\n            />\n          )\n        }\n        metaTop={\n          nominee &&\n          tag && (\n            <p className={styles.NominationMeta}>\n              {nominee_profile_id ? (\n                <Link\n                  to={`/profiles/${nominee_profile_id}`}\n                  className={styles.InteractiveNameLink}\n                >\n                  <strong>{nominee}</strong>\n                </Link>\n              ) : (\n                <strong>{nominee}</strong>\n              )}{\" \"}\n              was nominated by <strong>{display_name}</strong>{\" \"}\n              <span\n                className={styles.Tag}\n                style={{ backgroundColor: tag_color }}\n              >\n                {tag}\n              </span>\n            </p>\n          )\n        }\n        extraContent={\n          <Link to={detailUrl} className={styles.InteractiveTextLink}>\n            View full nomination\n          </Link>\n        }\n      />\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </>\n  );\n}\n\nexport default NominationCard;\n","import React from 'react';\nimport styles from '../styles/LoadingIndicator.module.css';\n\nfunction LoadingIndicator({ message = 'Loading...' }) {\n  return (\n    <div className={styles.LoaderWrapper}>\n      <div className={styles.Spinner} />\n      <p className={styles.Message}>{message}</p>\n    </div>\n  );\n}\n\nexport default LoadingIndicator;\n","import React, { useState, useEffect } from \"react\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport { axiosReq } from \"../api/axiosDefaults\";\r\nimport styles from \"../styles/PeopleSearchBar.module.css\";\r\n\r\nfunction PeopleSearchBar({\r\n  onUserSelect,\r\n  className = \"\",\r\n  enableSelectionDisplay = false,\r\n  prefillValue = \"\",\r\n  placeholderText = \"Search people...\", // default value\r\n}) {\r\n  // Input state\r\n  const [input, setInput] = useState(prefillValue);\r\n  useEffect(() => {\r\n    if (enableSelectionDisplay && prefillValue) {\r\n      setInput(prefillValue);\r\n    }\r\n  }, [prefillValue, enableSelectionDisplay]);\r\n\r\n  // Search results\r\n  const [results, setResults] = useState([]);\r\n\r\n  // Fetch users as input changes\r\n  useEffect(() => {\r\n    const fetchUsers = async () => {\r\n      if (!input.trim()) {\r\n        setResults([]);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const { data } = await axiosReq.get(`/users/?search=${input}`);\r\n        setResults(data.results);\r\n      } catch (err) {\r\n        console.error(\"Error fetching users\", err);\r\n        setResults([]);\r\n      }\r\n    };\r\n\r\n    const delayDebounce = setTimeout(fetchUsers, 500);\r\n    return () => clearTimeout(delayDebounce);\r\n  }, [input]);\r\n\r\n  // Handle input changes\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n\r\n  const handleSelect = (user) => {\r\n    const fullName =\r\n      `${user.first_name} ${user.last_name}`.trim() || user.username;\r\n\r\n    if (enableSelectionDisplay) {\r\n      setInput(fullName);\r\n    }\r\n\r\n    setResults([]);\r\n    onUserSelect(user);\r\n  };\r\n\r\n  return (\r\n    <div className={className}>\r\n      <Form.Control\r\n        type=\"text\"\r\n        placeholder={placeholderText}\r\n        value={input}\r\n        onChange={handleChange}\r\n        autoComplete=\"off\"\r\n        aria-label={placeholderText}\r\n      />\r\n      <div className={styles.suggestionBox}>\r\n        {results.map((user) => (\r\n          <div\r\n            key={user.id}\r\n            className={styles.suggestionItem}\r\n            onClick={() => handleSelect(user)}\r\n          >\r\n            {user.first_name || user.last_name\r\n              ? `${user.first_name} ${user.last_name}`.trim()\r\n              : user.username}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PeopleSearchBar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { Button, Container, Row, Col, ListGroup, Alert } from \"react-bootstrap\";\r\nimport RecognitionCard from \"../recognitions/RecognitionCard\";\r\nimport NominationCard from \"../nominations/NominationCard\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\r\nimport PeopleSearchBar from \"../../components/PeopleSearchBar\";\r\nimport feedStyles from \"../../styles/HomeFeedPage.module.css\";\r\n\r\nfunction HomeFeedPage() {\r\n  // Routing and Location\r\n  const location = useLocation();\r\n  const history = useHistory();\r\n\r\n  // PATCH 8: Consume auth context to trigger re-render after refresh\r\n  const { currentUser, currentUserLoaded } = useCurrentUser();\r\n  // PATCH 8: Optional console for debugging\r\n  useEffect(() => {\r\n    console.log(\"HomeFeedPage re-evaluated currentUser:\", currentUser);\r\n  }, [currentUser]);\r\n\r\n  // UI State\r\n  const [showDeleted, setShowDeleted] = useState(false);\r\n  const [showNominations, setShowNominations] = useState(false);\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [selectedDepartment, setSelectedDepartment] = useState(\"\");\r\n\r\n  // Data State\r\n  const [recognitions, setRecognitions] = useState([]);\r\n  const [nominations, setNominations] = useState([]);\r\n  const [people, setPeople] = useState([]);\r\n\r\n  // Handle URL query param to trigger alert\r\n  useEffect(() => {\r\n    const isDeletedParam =\r\n      new URLSearchParams(location.search).get(\"deleted\") === \"true\";\r\n    setShowDeleted(isDeletedParam);\r\n  }, [location.search]);\r\n\r\n  // Automatically hide the alert after 4 seconds\r\n  useEffect(() => {\r\n    if (showDeleted) {\r\n      const timer = setTimeout(() => setShowDeleted(false), 4000);\r\n      return () => clearTimeout(timer);\r\n    }\r\n  }, [showDeleted]);\r\n\r\n  // Fetch Posts data\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/posts/\")\r\n      .then((res) => setRecognitions(res.data.results))\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        // TODO: add user feedback on error\r\n      })\r\n      .finally(() => setHasLoaded(true));\r\n  }, []);\r\n\r\n  // Fetch Nomiations data\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/nominations/\")\r\n      .then((res) => setNominations(res.data.results))\r\n      .catch((err) => {\r\n        // console.log('Error fetching nominations:', err);\r\n        // TODO: add user feedback on error\r\n      });\r\n  }, []);\r\n\r\n  // Fetch People/Profiles\r\n  useEffect(() => {\r\n    axiosReq\r\n      .get(\"/user-profiles/\")\r\n      .then((res) => setPeople(res.data.results || res.data))\r\n      .catch((err) => {\r\n        // console.log('Error fetching people:', err);\r\n        // TODO: add user feedback on error\r\n      });\r\n  }, []);\r\n\r\n  // PATCH 8: Prevent premature rendering\r\n  if (!currentUserLoaded) return <LoadingIndicator message=\"Loading...\" />;\r\n\r\n  return (\r\n    <Container>\r\n      {showDeleted && (\r\n        <Alert\r\n          variant=\"success\"\r\n          onClose={() => setShowDeleted(false)}\r\n          dismissible\r\n        >\r\n          The post has been deleted successfully.\r\n        </Alert>\r\n      )}\r\n\r\n      <Row>\r\n        {/* Left Column - Feed */}\r\n        <Col md={8}>\r\n          <div className={feedStyles.FeedContent}>\r\n            {/* Feed Toggle Buttons */}\r\n            <div className={feedStyles.FeedToggleButtons}>\r\n              <Button\r\n                variant=\"none\"\r\n                className={`${feedStyles.FeedButton} ${\r\n                  !showNominations\r\n                    ? feedStyles.FeedToggleActive\r\n                    : feedStyles.FeedToggleInactive\r\n                }`}\r\n                onClick={() => setShowNominations(false)}\r\n              >\r\n                Recognition Stories\r\n              </Button>\r\n              <Button\r\n                variant=\"none\"\r\n                className={`${feedStyles.FeedButton} ${\r\n                  showNominations\r\n                    ? feedStyles.FeedToggleActive\r\n                    : feedStyles.FeedToggleInactive\r\n                }`}\r\n                onClick={() => setShowNominations(true)}\r\n              >\r\n                Nominations\r\n              </Button>\r\n            </div>\r\n\r\n            {hasLoaded ? (\r\n              <>\r\n                {!showNominations ? (\r\n                  recognitions.length ? (\r\n                    recognitions.map((post) => (\r\n                      <RecognitionCard\r\n                        key={`post-${post.id}`}\r\n                        {...post}\r\n                        user={post.user}\r\n                        setRecognitions={setRecognitions}\r\n                        onPostDelete={(deletedId) =>\r\n                          setRecognitions((prev) =>\r\n                            prev.filter((r) => r.id !== deletedId)\r\n                          )\r\n                        }\r\n                      />\r\n                    ))\r\n                  ) : (\r\n                    <div>No recognitions yet</div>\r\n                  )\r\n                ) : nominations.length ? (\r\n                  nominations.map((nom) => (\r\n                    <NominationCard\r\n                      key={`nom-${nom.id}`}\r\n                      {...nom}\r\n                      nominator={nom.nominator}\r\n                      setPosts={setNominations}\r\n                      onPostDelete={(deletedId) =>\r\n                        setNominations((prevNoms) =>\r\n                          prevNoms.filter((n) => n.id !== deletedId)\r\n                        )\r\n                      }\r\n                    />\r\n                  ))\r\n                ) : (\r\n                  <div>No nominations yet</div>\r\n                )}\r\n              </>\r\n            ) : (\r\n              <LoadingIndicator message=\"Loading feed...\" />\r\n            )}\r\n          </div>\r\n        </Col>\r\n\r\n        {/* Right Column - Sidebar */}\r\n        <Col md={4} className={feedStyles.SidebarWrapper}>\r\n          <div className={feedStyles.SearchFilterBlock}>\r\n            {/* Search field placeholder */}\r\n            <PeopleSearchBar\r\n              className={feedStyles.MobileOnly}\r\n              onUserSelect={(user) => {\r\n                history.push(`/profiles/${user.id}`);\r\n              }}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              className={`${feedStyles.FilterInput} ${feedStyles.DesktopOnly}`}\r\n              placeholder=\"Search people...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n            />\r\n            {/* Department filter */}\r\n            <select\r\n              className={`${feedStyles.FilterSelect} ${feedStyles.DesktopOnly}`}\r\n              value={selectedDepartment}\r\n              onChange={(e) => setSelectedDepartment(e.target.value)}\r\n            >\r\n              <option value=\"\">All Departments</option>\r\n              {[\r\n                ...new Set(people.map((p) => p.department).filter(Boolean)),\r\n              ].map((dept) => (\r\n                <option key={dept} value={dept}>\r\n                  {dept}\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          {/* People list placeholder */}\r\n          <div className={feedStyles.PeopleList}>\r\n            {people\r\n              .filter((person) => {\r\n                const nameOrUsername = `${person.first_name || \"\"} ${\r\n                  person.last_name || \"\"\r\n                } ${person.user || \"\"}`.toLowerCase();\r\n                const matchesName = nameOrUsername.includes(\r\n                  searchTerm.toLowerCase()\r\n                );\r\n                const matchesDepartment =\r\n                  !selectedDepartment ||\r\n                  person.department === selectedDepartment;\r\n                return matchesName && matchesDepartment;\r\n              })\r\n              .map((person) => {\r\n                return (\r\n                  <ListGroup.Item\r\n                    key={person.id}\r\n                    className={feedStyles.PersonItem}\r\n                    onClick={() => history.push(`/profiles/${person.id}`)}\r\n                    style={{ cursor: \"pointer\" }}\r\n                  >\r\n                    <div className={feedStyles.PersonContent}>\r\n                      <Avatar\r\n                        src={person.profile_image}\r\n                        first_name={person.first_name}\r\n                        last_name={person.last_name}\r\n                        username={person.user}\r\n                        size=\"sm\"\r\n                      />\r\n                      <span>\r\n                        {person.first_name || person.last_name\r\n                          ? `${person.first_name || \"\"} ${\r\n                              person.last_name || \"\"\r\n                            }`.trim()\r\n                          : person.user}\r\n                      </span>\r\n                    </div>\r\n                  </ListGroup.Item>\r\n                );\r\n              })}\r\n          </div>\r\n        </Col>\r\n      </Row>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default HomeFeedPage;\r\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport sharedStyles from '../App.module.css';\nimport formStyles from '../styles/PostForm.module.css';\n\nfunction FormFooter(props) {\n  const history = useHistory();\n\n  const {\n    submitText = 'Submit',\n    onCancel,\n    disabled = false,\n    showCancel = true,\n  } = props;\n\n  return (\n    <div className={formStyles.FormButtonRow}>\n      <Button\n        type=\"submit\"\n        className={sharedStyles.YellowButton}\n        disabled={disabled}\n      >\n        {submitText}\n      </Button>\n      {showCancel && (\n        <Button\n          className={sharedStyles.BlueButton}\n          variant=\"outline-secondary\"\n          onClick={onCancel || (() => history.goBack())}\n        >\n          Cancel\n        </Button>\n      )}\n    </div>\n  );\n}\n\nexport default FormFooter;\n","import React from \"react\";\nimport { Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport FormFooter from \"./FormFooter\";\nimport styles from \"../styles/PostForm.module.css\";\n\nfunction PostForm({\n  title,\n  content,\n  handleChange,\n  handleSubmit,\n  children,\n  submitText = \"Submit\",\n  onCancel,\n  errors,\n}) {\n  return (\n    <Form onSubmit={handleSubmit} className={styles.FormWrapper}>\n      <Form.Group controlId=\"title\" className={styles.FormGroupSpacing}>\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip>Enter a short, clear post title</Tooltip>}\n        >\n          <Form.Control\n            type=\"text\"\n            placeholder=\"Enter title\"\n            name=\"title\"\n            aria-label=\"Enter a short, clear post title\"\n            value={title}\n            onChange={handleChange}\n          />\n        </OverlayTrigger>\n        {/* Validation error */}\n        {Array.isArray(errors?.title) &&\n          errors?.title?.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n\n      <Form.Group controlId=\"content\" className={styles.FormGroupSpacing}>\n        <OverlayTrigger\n          placement=\"top\"\n          overlay={<Tooltip>Write the story you want to share</Tooltip>}\n        >\n          <Form.Control\n            as=\"textarea\"\n            rows={10}\n            placeholder=\"Write your story...\"\n            name=\"content\"\n            aria-label=\"Write the story you want to share\"\n            value={content}\n            onChange={handleChange}\n          />\n        </OverlayTrigger>\n        {/* Validation error */}\n        {Array.isArray(errors?.content) &&\n          errors?.content?.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n      {children}\n      <FormFooter submitText={submitText} onCancel={onCancel} />\n    </Form>\n  );\n}\n\nexport default PostForm;\n","import React, { useState } from \"react\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\n\nfunction CreateRecognitionPage() {\n  // Form fields\n  const [recognitionData, setRecognitionData] = useState({\n    title: \"\",\n    content: \"\",\n    image: null,\n  });\n  const { title, content, image } = recognitionData;\n\n  // Error state\n  const [errors, setErrors] = useState({});\n\n  // Navigation\n  const history = useHistory();\n  const setCurrentUser = useSetCurrentUser(); // Refresh user after creation\n\n  // Handle input changes (text & file upload)\n  const handleChange = (event) => {\n    const { name, value, files } = event.target;\n\n    if (name) {\n      // Clear field-level error on input\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    if (name === \"image\") {\n      const file = files[0];\n      if (file && file.size > 5 * 1024 * 1024) {\n        alert(\"Image must be smaller than 5MB.\");\n        return;\n      }\n      setRecognitionData({\n        ...recognitionData,\n        image: files[0],\n      });\n    } else {\n      setRecognitionData({\n        ...recognitionData,\n        [name]: value,\n      });\n    }\n  };\n\n  // Handle form submit\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    if (image) {\n      formData.append(\"image\", image);\n    }\n\n    try {\n      // PATCH 9: Explicit token for POST request (prevent refresh desync)\n      const { data } = await axiosReq.post(\"/posts/\", formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      // PATCH 9: Rehydrate user context after creation\n      const currentUserData = await axiosRes\n        .get(\"/dj-rest-auth/user/\")\n        .then((res) => res.data);\n      setCurrentUser(currentUserData);\n\n      history.push(`/recognitions/${data.id}?created=true`);\n    } catch (err) {\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data);\n        // console.log('Submission error:', err.response?.data);\n      }\n    }\n  };\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Create\"\n        onCancel={() => history.push(\"/\")}\n        errors={errors}\n      >\n        <Form.Group controlId=\"image\" className={formStyles.FormMediaWrapper}>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Upload an image (optional)</Tooltip>}\n          >\n            <Form.Control\n              type=\"file\"\n              name=\"image\"\n              onChange={handleChange}\n              aria-label=\"Upload an optional image\"\n            />\n          </OverlayTrigger>\n          <div className={formStyles.AllowedFormats}>\n            Allowed formats: jpg, jpeg, png\n          </div>\n          {Array.isArray(errors?.image) &&\n            errors.image.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default CreateRecognitionPage;\n","import React, { useState } from \"react\";\nimport { Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport FormFooter from \"../../components/FormFooter\";\nimport styles from \"../../styles/PostForm.module.css\";\n\nfunction CommentForm({ postId, onCommentSubmit, disabled = false }) {\n  // State\n  const [content, setContent] = useState(\"\");\n  const [errors, setErrors] = useState({});\n\n  // Derived/computed values\n  const isValidComment = content.trim().length > 0;\n\n  // Handlers\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axiosReq.post(\"/comments/\", {\n        content,\n        post: postId,\n      });\n      setContent(\"\");\n      setErrors({});\n      if (onCommentSubmit) {\n        onCommentSubmit(data);\n      }\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  return (\n    <Form onSubmit={handleSubmit} className={styles.FormWrapper}>\n      <Form.Group controlId=\"commentText\" className={styles.FormGroupSpacing}>\n        {disabled ? (\n          <Form.Control\n            as=\"textarea\"\n            rows={2}\n            placeholder=\"Log in to comment\"\n            name=\"comment\"\n            disabled\n            aria-label=\"Log in to comment\"\n            value={content}\n            onChange={handleChange}\n          />\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Add your comment</Tooltip>}\n          >\n            <Form.Control\n              as=\"textarea\"\n              rows={2}\n              placeholder=\"Write a comment...\"\n              name=\"comment\"\n              aria-label=\"Add your comment\"\n              disabled={disabled}\n              value={content}\n              onChange={handleChange}\n            />\n          </OverlayTrigger>\n        )}\n        {errors?.content && (\n          <div className=\"text-danger mt-2\">{errors.content}</div>\n        )}\n      </Form.Group>\n\n      <FormFooter\n        submitText=\"Post\"\n        disabled={disabled || !isValidComment}\n        showCancel={false}\n      />\n    </Form>\n  );\n}\n\nexport default CommentForm;\n","import React from 'react';\nimport MoreDropdown from '../../components/MoreDropdown';\nimport styles from '../../styles/Comment.module.css';\n\nfunction Comment(props) {\n  const { comment, setEditingComment, setShowDeleteModal } = props;\n\n  return (\n    <div className={styles.SingleComment}>\n      <div className=\"d-flex justify-content-between align-items-start\">\n        <strong className={styles.CommentAuthor}>{comment.display_name}</strong>\n\n        {comment.is_user && (\n          <MoreDropdown\n            handleEdit={() => setEditingComment(comment)}\n            handleDelete={() => setShowDeleteModal(comment.id)}\n          />\n        )}\n      </div>\n      <p className={styles.CommentText}>{comment.content}</p>\n      <small className={styles.CommentDate}>{comment.created_at}</small>\n    </div>\n  );\n}\n\nexport default Comment;\n","import React, { useState } from \"react\";\nimport { Form } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport styles from \"../../styles/Comment.module.css\";\nimport FormFooter from \"../../components/FormFooter\";\n\nfunction CommentEditForm(props) {\n  // Props from parent\n  const { comment, setComments, setEditingComment, onCancel } = props;\n\n  // Routing\n  const history = useHistory();\n  const location = useLocation();\n\n  // Local state\n  const [content, setContent] = useState(comment.content);\n  const [errors, setErrors] = useState({});\n\n  // Handlers\n  const handleChange = (event) => {\n    setContent(event.target.value);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      const { data } = await axiosReq.patch(`/comments/${comment.id}/`, {\n        content,\n      });\n      setComments((prevComments) =>\n        prevComments.map((c) => (c.id === comment.id ? data : c))\n      );\n      setEditingComment(null);\n      history.replace(`${location.pathname}?comment_edited=true`);\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n  return (\n    <Form onSubmit={handleSubmit} className={styles.SingleComment}>\n      <Form.Group>\n        <Form.Control\n          as=\"textarea\"\n          value={content}\n          onChange={handleChange}\n          rows={2}\n          className={styles.CommentText}\n        />\n        {Array.isArray(errors?.content) &&\n          errors.content.map((message, idx) => (\n            <div key={idx} className=\"text-danger mt-1\">\n              {message}\n            </div>\n          ))}\n      </Form.Group>\n      <FormFooter submitText=\"Update\" onCancel={onCancel} />\n    </Form>\n  );\n}\n\nexport default CommentEditForm;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory, useLocation, Link } from \"react-router-dom\";\nimport { Container, Alert, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport CommentForm from \"../comment/CommentForm\";\nimport Comment from \"../comment/Comment\";\nimport CommentEditForm from \"../comment/CommentEditForm\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport commentStyles from \"../../styles/Comment.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nfunction RecognitionDetailPage() {\n  // Routing & context\n  const { id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const { currentUser } = useCurrentUser();\n\n  // State\n  const [recognition, setRecognition] = useState(null);\n  const [comments, setComments] = useState([]);\n  const [showConfirm, setShowConfirm] = useState(false);\n  const [showCommentSuccess, setShowCommentSuccess] = useState(false);\n  const [editingComment, setEditingComment] = useState(null);\n  const [showDeleteModal, setShowDeleteModal] = useState(null);\n\n  // Derived/computed values\n  const isNomination = !!recognition?.nominee;\n  let dropdownMenu = null;\n\n  // Check URL query params for success messages (post or comment actions)\n  const searchParams = new URLSearchParams(location.search);\n  const isCreated = searchParams.get(\"created\") === \"true\";\n  const isUpdated = searchParams.get(\"updated\") === \"true\";\n  const commentEdited = searchParams.get(\"comment_edited\") === \"true\";\n  const commentDeleted = searchParams.get(\"comment_deleted\") === \"true\";\n\n  // Unified flag for displaying success alerts (posts or comments)\n  const showSuccess =\n    isCreated ||\n    isUpdated ||\n    commentEdited ||\n    commentDeleted ||\n    showCommentSuccess;\n\n  // Determine appropriate success message based on URL or state\n  const successMessage = isCreated\n    ? \"Your recognition has been published!\"\n    : isUpdated\n    ? \"Your recognition has been updated!\"\n    : commentEdited\n    ? \"Comment updated successfully!\"\n    : commentDeleted\n    ? \"Comment deleted successfully!\"\n    : showCommentSuccess\n    ? \"Comment posted successfully!\"\n    : \"\";\n\n  // Handlers - Like / Unlike\n  const handleLike = async () => {\n    try {\n      const { data } = await axiosRes.post(\"/likes/\", {\n        post: recognition.id,\n      });\n      setRecognition((prev) => ({\n        ...prev,\n        likes_count: prev.likes_count + 1,\n        like_id: data.id,\n      }));\n    } catch (err) {\n      // console.log('Error liking recognition:', err);\n      // TODO: add user feedback on error\n    }\n  };\n\n  const handleUnlike = async () => {\n    try {\n      await axiosRes.delete(`/likes/${recognition.like_id}/`);\n      setRecognition((prev) => ({\n        ...prev,\n        likes_count: prev.likes_count - 1,\n        like_id: null,\n      }));\n    } catch (err) {\n      // console.log('Error unliking recognition:', err);\n      // TODO: add user feedback on error\n    }\n  };\n\n  // Handlers - Delete Posts\n  const handleDelete = () => {\n    setShowConfirm(true);\n  };\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(`/posts/${recognition.id}/`);\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // console.error('Error deleting recognition:', err);\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  // Handlers - Delete comment\n  const confirmDeleteComment = async () => {\n    try {\n      await axiosReq.delete(`/comments/${showDeleteModal}/`);\n      setComments((prevComments) =>\n        prevComments.filter((comment) => comment.id !== showDeleteModal)\n      );\n      setRecognition((prev) => ({\n        ...prev,\n        comments_count: prev.comments_count - 1,\n      }));\n      history.replace(`${location.pathname}?comment_deleted=true`);\n    } catch (err) {\n      // console.log('Error deleting comment:', err);\n      // TODO: add user feedback on error\n    } finally {\n      setShowDeleteModal(null);\n    }\n  };\n\n  // Effect: auto-hide success alert and clean up URL\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        setShowCommentSuccess(false);\n        history.replace(location.pathname);\n      }, 3000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, history, location.pathname]);\n\n  // Effect: fetch post details\n  useEffect(() => {\n    axiosReq\n      .get(`/posts/${id}/`)\n      .then((response) => {\n        setRecognition(response.data);\n      })\n      .catch((error) => {\n        // console.log('Error fetching recognitions details:', error);\n        // TODO: add user feedback on error\n      });\n  }, [id]);\n\n  // Fetch comments\n  useEffect(() => {\n    axiosReq\n      .get(`/comments/?post=${id}`)\n      .then((response) => {\n        setComments(response.data.results || response.data);\n      })\n      .catch((error) => {\n        console.error(\"Error fetching comments:\", error);\n      });\n  }, [id, currentUser]);\n\n  // Early return: loading state\n  if (!recognition) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading recognition...\" />\n      </Container>\n    );\n  }\n\n  // Render helpers\n  // Temporary values\n  dropdownMenu = recognition.is_user ? (\n    <MoreDropdown\n      handleEdit={() => history.push(`/recognitions/${recognition.id}/edit`)}\n      handleDelete={handleDelete}\n    />\n  ) : null;\n\n  const postActions = !isNomination ? (\n    <div className={styles.PostFooter}>\n      <div className={styles.ActionItem}>\n        {recognition.is_user ? (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id=\"tooltip-self-like\">\n                Can't like your own recognition!\n              </Tooltip>\n            }\n          >\n            <span\n              style={{ cursor: \"not-allowed\" }}\n              aria-label=\"You can't like your own recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        ) : recognition.like_id ? (\n          <span\n            onClick={handleUnlike}\n            style={{ cursor: \"pointer\" }}\n            aria-label=\"Unlike this recognition\"\n          >\n            <i className={`fas fa-thumbs-up ${styles.Heart}`} />\n          </span>\n        ) : currentUser ? (\n          <span\n            onClick={handleLike}\n            style={{ cursor: \"pointer\" }}\n            aria-label=\"Like this recognition\"\n          >\n            <i className={`far fa-thumbs-up ${styles.HeartOutline}`} />\n          </span>\n        ) : (\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip id={`tooltip-login-like-${recognition.id}`}>\n                Log in to like recognitions!\n              </Tooltip>\n            }\n          >\n            <span\n              className={styles.DisabledIcon}\n              aria-label=\"Log in to like this recognition\"\n            >\n              <i className=\"far fa-thumbs-up\" />\n            </span>\n          </OverlayTrigger>\n        )}\n        <span>{recognition.likes_count}</span>\n      </div>\n      <div className={styles.ActionItem}>\n        <i className=\"far fa-comment\" />\n        <span>{recognition.comments_count}</span>\n      </div>\n    </div>\n  ) : null;\n\n  return (\n    <Container>\n      {showSuccess && successMessage && (\n        <Alert variant=\"success\" dismissible>\n          {successMessage}\n        </Alert>\n      )}\n\n      <PostLayoutShell\n        title={recognition.title}\n        content={recognition.content}\n        image={recognition.image}\n        user={recognition.user}\n        username={recognition.username}\n        first_name={recognition.first_name}\n        last_name={recognition.last_name}\n        display_name={recognition.display_name}\n        profile_image={recognition.profile_image}\n        profile_id={recognition.profile_id}\n        created_at={recognition.created_at}\n        likes_count={recognition.likes_count}\n        comments_count={recognition.comments_count}\n        renderDropdown={dropdownMenu}\n        postActions={postActions}\n      >\n        <>\n          {recognition.image && (\n            <div className={styles.ImageWrapper}>\n              <img\n                src={recognition.image}\n                alt={recognition.title}\n                className={styles.PostImage}\n              />\n            </div>\n          )}\n          {currentUser ? (\n            <CommentForm\n              postId={recognition.id}\n              onCommentSubmit={(newComment) => {\n                setComments((prevComments) => [newComment, ...prevComments]);\n                setRecognition((prev) => ({\n                  ...prev,\n                  comments_count: prev.comments_count + 1,\n                }));\n                setShowCommentSuccess(true);\n              }}\n            />\n          ) : (\n            <p className={styles.LoginToComment}>\n              <i className=\"far fa-comment\" />\n              <Link to=\"/login\" className={styles.InteractiveTextLink}>\n                Log in\n              </Link>\n              to leave a comment.\n            </p>\n          )}\n\n          <div className={commentStyles.CommentSection} />\n\n          {comments.length ? (\n            comments.map((comment) =>\n              editingComment?.id === comment.id ? (\n                <div key={comment.id} className={styles.CommentBlock}>\n                  <CommentEditForm\n                    comment={comment}\n                    postId={recognition.id}\n                    setComments={setComments}\n                    setEditingComment={setEditingComment}\n                    onCancel={() => setEditingComment(null)}\n                  />\n                </div>\n              ) : (\n                <Comment\n                  key={comment.id}\n                  comment={comment}\n                  setEditingComment={setEditingComment}\n                  setShowDeleteModal={setShowDeleteModal}\n                />\n              )\n            )\n          ) : (\n            <p className=\"text-muted px-3\">No comments yet.</p>\n          )}\n        </>\n      </PostLayoutShell>\n\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n      <ConfirmDeleteModal\n        show={!!showDeleteModal}\n        onHide={() => setShowDeleteModal(null)}\n        onConfirm={confirmDeleteComment}\n      />\n    </Container>\n  );\n}\n\nexport default RecognitionDetailPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nfunction UpdateRecognitionPage() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Data State\n  const [recognitionData, setRecognitionData] = useState({\n    title: \"\",\n    content: \"\",\n    image: null,\n  });\n  const [removeImage, setRemoveImage] = useState(false);\n\n  const { title, content, image } = recognitionData;\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    axiosReq\n      .get(`/posts/${id}/`)\n      .then((response) => {\n        const { title, content, image } = response.data;\n        setRecognitionData({ title, content, image });\n        setHasLoaded(true);\n      })\n      .catch((err) => {\n        console.error(\"Error fetching recognition:\", err);\n        history.push(\"/\");\n      });\n  }, [id, history]);\n\n  const handleChange = (event) => {\n    const { name, value, files } = event.target;\n\n    if (name) {\n      // Clear error only if the field has a name\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    if (name === \"image\") {\n      setRecognitionData({\n        ...recognitionData,\n        image: files[0],\n      });\n    } else {\n      setRecognitionData({\n        ...recognitionData,\n        [name]: value,\n      });\n    }\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    if (removeImage) {\n      formData.append(\"image\", \"\");\n    } else if (image && typeof image !== \"string\") {\n      formData.append(\"image\", image);\n    }\n\n    try {\n      // PATCH 9: Add Authorization header to avoid stale token issues\n      await axiosReq.patch(`/posts/${id}/`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      history.push(`/recognitions/${id}?updated=true`);\n    } catch (err) {\n      console.error(\"Submission error:\", err.response?.data);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data || {});\n      }\n    }\n  };\n\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading recognition...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        image={image}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Update\"\n        onCancel={() => history.push(`/recognitions/${id}`)}\n        errors={errors}\n      >\n        <Form.Group className={formStyles.FormMediaWrapper}>\n          {typeof image === \"string\" && (\n            <>\n              <img\n                src={image}\n                alt=\"Current\"\n                className={formStyles.FormImagePreview}\n              />\n              <div className=\"d-flex align-items-center gap-2 mt-2 mb-3\">\n                <Form.Check\n                  type=\"checkbox\"\n                  id=\"remove-image\"\n                  label=\"\"\n                  aria-label=\"Remove image\"\n                  checked={removeImage}\n                  onChange={(e) => setRemoveImage(e.target.checked)}\n                />\n                <Form.Label htmlFor=\"remove-image\" className=\"mb-0\">\n                  Remove image\n                </Form.Label>\n              </div>\n            </>\n          )}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Upload an image (optional)</Tooltip>}\n          >\n            <Form.Control\n              type=\"file\"\n              name=\"image\"\n              onChange={handleChange}\n              aria-label=\"Upload an image (optional)\"\n            />\n          </OverlayTrigger>\n          <div className={formStyles.AllowedFormats}>\n            Allowed formats: jpg, jpeg, png\n          </div>\n          {Array.isArray(errors?.image) &&\n            errors.image.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default UpdateRecognitionPage;\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport {\n  useSetCurrentUser,\n  useCurrentUser,\n} from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport PeopleSearchBar from \"../../components/PeopleSearchBar\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport peopleSearchStyles from \"../../styles/PeopleSearchBar.module.css\";\n\nfunction CreateNominationPage() {\n  // Form fields\n  const [nominationData, setNominationData] = useState({\n    title: \"\",\n    content: \"\",\n    tag: \"\",\n  });\n  const { title, content, tag } = nominationData;\n\n  // Nominee search & selection\n  const [selectedNomineeId, setSelectedNomineeId] = useState(\"\");\n  const [nomineeNameParam, setNomineeNameParam] = useState(\"\");\n\n  // Tag dropdown\n  const [tags, setTags] = useState([]);\n\n  // Error state\n  const [errors, setErrors] = useState({});\n\n  // Navigation\n  const history = useHistory();\n  const location = useLocation();\n  const setCurrentUser = useSetCurrentUser();\n  const currentUser = useCurrentUser();\n\n  // Fetch tag options for dropdown\n  useEffect(() => {\n    const fetchTags = async () => {\n      try {\n        const { data } = await axiosReq.get(\"/tags/\");\n        // console.log('Fetched tags:', data);\n        setTags(data.results);\n      } catch (err) {\n        // console.log('Error fetching tags:', err);\n        // TODO: add user feedback on error\n      }\n    };\n\n    fetchTags();\n  }, []);\n\n  // Prefill nominee ID from URL (when navigated from ProfilePage)\n  useEffect(() => {\n    const queryParams = new URLSearchParams(location.search);\n    const prefillId = queryParams.get(\"nominee\");\n    const prefillName =\n      queryParams.get(\"name\") ||\n      queryParams.get(\"nominee_fullname\") ||\n      queryParams.get(\"nominee_username\") ||\n      \"\";\n\n    console.log(\"Full location.search:\", location.search);\n    console.log(\"Parsed prefillName:\", prefillName);\n\n    if (prefillId && !isNaN(prefillId)) {\n      setSelectedNomineeId(parseInt(prefillId));\n    }\n    if (prefillName) {\n      setNomineeNameParam(prefillName);\n    }\n  }, [location.search]);\n\n  // Handle input changes\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setErrors((prev) => ({\n      ...prev,\n      [name]: \"\",\n    }));\n    setNominationData((prevData) => ({\n      ...prevData,\n      [name]: value,\n    }));\n  };\n\n  // Handle form submit\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    // Prevent submission without a valid nominee ID\n    let localErrors = {};\n    if (!selectedNomineeId || isNaN(selectedNomineeId)) {\n      localErrors.nominee = [\"Please select a valid teammate.\"];\n    }\n\n    // Prevents self nomination\n    if (parseInt(selectedNomineeId) === currentUser?.currentUser?.pk) {\n      setErrors({ nominee: [\"You can't nominate yourself.\"] });\n      return;\n    }\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    formData.append(\"nominee\", selectedNomineeId);\n    if (tag) formData.append(\"tag\", tag);\n\n    try {\n      const { data } = await axiosReq.post(\"/nominations/\", formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      // PATCH 9: Rehydrate user context after creation\n      setCurrentUser(\n        await axiosRes.get(\"/dj-rest-auth/user/\").then((res) => res.data)\n      );\n      history.push(`/nominations/${data.id}?created=true`);\n    } catch (err) {\n      // Combine backend errors with local ones\n      const serverErrors = err.response?.data || {};\n      setErrors({ ...serverErrors, ...localErrors });\n    }\n  };\n\n  // Handle cancel button\n  const handleCancel = () => {\n    history.push(\"/\");\n  };\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Create\"\n        onCancel={handleCancel}\n        errors={errors}\n      >\n        <Form.Group controlId=\"nominee\" className={formStyles.FormMediaWrapper}>\n          <div className={peopleSearchStyles.FullWidthNomineeSearch}>\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  Search for a teammate by first or last name (you can't\n                  nominate yourself)\n                </Tooltip>\n              }\n            >\n              <div>\n                <PeopleSearchBar\n                  className={peopleSearchStyles.FullWidthInput}\n                  enableSelectionDisplay={true}\n                  prefillValue={nomineeNameParam}\n                  placeholderText=\"Search nominee\"\n                  onUserSelect={(user) => {\n                    setSelectedNomineeId(user.id);\n                    setErrors((prev) => ({ ...prev, nominee: \"\" }));\n                  }}\n                />\n              </div>\n            </OverlayTrigger>\n            {/* Validation error for nominee */}\n            {Array.isArray(errors?.nominee) &&\n              errors.nominee.map((message, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {message}\n                </div>\n              ))}\n          </div>\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Pick a tag that reflects the nomination</Tooltip>}\n          >\n            <Form.Control\n              as=\"select\"\n              name=\"tag\"\n              value={tag}\n              aria-label=\"Pick a tag that reflects the nomination\"\n              onChange={handleChange}\n            >\n              <option value=\"\">Select a tag</option>\n              {tags.map((tagObj) => (\n                <option key={tagObj.id} value={tagObj.name}>\n                  {tagObj.name}\n                </option>\n              ))}\n            </Form.Control>\n          </OverlayTrigger>\n          {Array.isArray(errors?.tag) &&\n            errors.tag.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default CreateNominationPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory, useLocation, Link } from \"react-router-dom\";\nimport { Container, Alert } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostLayoutShell from \"../../components/PostLayoutShell\";\nimport MoreDropdown from \"../../components/MoreDropdown\";\nimport ConfirmDeleteModal from \"../../components/ConfirmDeleteModal\";\nimport styles from \"../../styles/PostCard.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nfunction NominationDetailPage() {\n  const { id } = useParams();\n  const history = useHistory();\n  const [showConfirm, setShowConfirm] = useState(false);\n  const location = useLocation();\n\n  const [nomination, setNomination] = useState(null);\n\n  let dropdownMenu = null;\n\n  // Check URL for post or update to show success message\n  const searchParams = new URLSearchParams(location.search);\n  const isCreated = searchParams.get(\"created\") === \"true\";\n  const isUpdated = searchParams.get(\"updated\") === \"true\";\n\n  const showSuccess = isCreated || isUpdated;\n  const successMessage = isCreated\n    ? \"Your nomination has been published!\"\n    : isUpdated\n    ? \"Your nomination has been updated!\"\n    : \"\";\n\n  const handleDelete = () => {\n    setShowConfirm(true);\n  };\n\n  const confirmDelete = async () => {\n    try {\n      await axiosReq.delete(`/nominations/${nomination.id}/`);\n      history.push(\"/?deleted=true\");\n    } catch (err) {\n      // console.error('Error deleting nomination:', err);\n      // TODO: add user feedback on error\n    } finally {\n      setShowConfirm(false);\n    }\n  };\n\n  useEffect(() => {\n    if (showSuccess) {\n      const timer = setTimeout(() => {\n        const cleanUrl = location.pathname;\n        history.replace(cleanUrl);\n      }, 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, history, location.pathname]);\n\n  useEffect(() => {\n    axiosReq\n      .get(`/nominations/${id}/`)\n      .then((response) => {\n        setNomination(response.data);\n        console.log(\"Nomination object:\", response.data); // DEBUG\n      })\n      .catch((error) => {\n        // console.error(\"Error fetching nomination details:\", error);\n        // TODO: add user feedback on error\n      });\n  }, [id]);\n\n  // Early return: loading state\n  if (!nomination) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading nomination...\" />\n      </Container>\n    );\n  }\n\n  dropdownMenu = nomination.is_user ? (\n    <MoreDropdown\n      handleEdit={() => history.push(`/nominations/${nomination.id}/edit`)}\n      handleDelete={handleDelete}\n    />\n  ) : null;\n\n  return (\n    <Container>\n      {showSuccess && (\n        <Alert variant=\"success\" dismissible>\n          {successMessage}\n        </Alert>\n      )}\n\n      <PostLayoutShell\n        title={nomination.title}\n        content={nomination.content}\n        user={nomination.user}\n        username={nomination.username}\n        first_name={nomination.first_name}\n        last_name={nomination.last_name}\n        display_name={nomination.display_name}\n        profile_image={nomination.profile_image}\n        profile_id={nomination.profile_id}\n        nominee_profile_id={nomination.nominee_profile_id}\n        created_at={nomination.created_at}\n        renderDropdown={dropdownMenu}\n        metaTop={\n          nomination.nominee_display_name &&\n          nomination.tag && (\n            <p className={styles.NominationMeta}>\n              {nomination.nominee_profile_id ? (\n                <Link\n                  to={`/profiles/${nomination.nominee_profile_id}`}\n                  className={styles.InteractiveNameLink}\n                >\n                  <strong>{nomination.nominee_display_name}</strong>\n                </Link>\n              ) : (\n                <strong>{nomination.nominee_display_name}</strong>\n              )}{\" \"}\n              was nominated by <strong>{nomination.display_name}</strong> for{\" \"}\n              <span\n                style={{\n                  backgroundColor: nomination.tag_color,\n                  color: \"#fff\",\n                  padding: \"2px 8px\",\n                  borderRadius: \"12px\",\n                  fontSize: \"0.8rem\",\n                }}\n              >\n                {nomination.tag}\n              </span>\n            </p>\n          )\n        }\n      />\n      <ConfirmDeleteModal\n        show={showConfirm}\n        onHide={() => setShowConfirm(false)}\n        onConfirm={confirmDelete}\n      />\n    </Container>\n  );\n}\n\nexport default NominationDetailPage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport PostForm from \"../../components/PostForm\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nfunction UpdateNominationPage() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Data State\n  const [postData, setPostData] = useState({\n    title: \"\",\n    content: \"\",\n    nominee_display_name: \"\",\n    tag: \"\",\n  });\n  const { title, content, nominee_display_name, tag } = postData;\n\n  const [tags, setTags] = useState([]);\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  useEffect(() => {\n    axiosReq\n      .get(`/nominations/${id}/`)\n      .then((response) => {\n        const { title, content, nominee_display_name, tag } = response.data;\n        setPostData({\n          title,\n          content,\n          nominee_display_name,\n          tag,\n        });\n        setHasLoaded(true);\n      })\n      .catch((err) => {\n        // console.log('Error fetching nominations:', err);\n        // TODO: add user feedback on error\n        history.push(\"/\");\n      });\n  }, [id, history]);\n\n  useEffect(() => {\n    axiosReq\n      .get(\"/tags/\")\n      .then((response) => setTags(response.data.results))\n      .catch((err) => {\n        // console.error(\"Error fetching tags:\", err);\n        // TODO: add user feedback on error\n      });\n  }, []);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n\n    if (name) {\n      // Clear error only if the field has a name\n      setErrors((prevErrors) => ({\n        ...prevErrors,\n        [name]: \"\",\n      }));\n    }\n\n    setPostData({\n      ...postData,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"title\", title);\n    formData.append(\"content\", content);\n    formData.append(\"tag\", tag);\n\n    try {\n      // PATCH 9: Explicit token header for nomination updates\n      await axiosReq.patch(`/nominations/${id}/`, formData, {\n        headers: {\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n          \"Content-Type\": \"multipart/form-data\",\n        },\n      });\n      history.push(`/nominations/${id}?updated=true`);\n    } catch (err) {\n      console.error(\"Submission error:\", err.response?.data);\n      if (err.response?.status !== 401) {\n        setErrors(err.response?.data || {});\n      }\n    }\n  };\n\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading nomination...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <PostForm\n        title={title}\n        content={content}\n        handleChange={handleChange}\n        handleSubmit={handleSubmit}\n        submitText=\"Update\"\n        onCancel={() => history.push(`/nominations/${id}`)}\n        errors={errors}\n      >\n        <Form.Group className={formStyles.FormMediaWrapper}>\n          {/* Read-only nominee display */}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={\n              <Tooltip>\n                Want to change the nominee? You'll need to delete and start a\n                new nomination.\n              </Tooltip>\n            }\n          >\n            <Form.Label className=\"mb-2\">\n              <strong>Nominee:</strong>\n            </Form.Label>\n          </OverlayTrigger>\n          <div className=\"mb-3\">{nominee_display_name}</div>\n\n          {/* Editable tag dropdown */}\n          <OverlayTrigger\n            placement=\"top\"\n            overlay={<Tooltip>Select a new tag if needed</Tooltip>}\n          >\n            <Form.Control\n              as=\"select\"\n              name=\"tag\"\n              value={tag}\n              aria-label=\"Select a new tag if needed\"\n              onChange={handleChange}\n            >\n              <option value=\"\">Select a tag</option>\n              {tags.map((t) => (\n                <option key={t.id} value={t.name}>\n                  {t.name}\n                </option>\n              ))}\n            </Form.Control>\n          </OverlayTrigger>\n          {/* Validation error */}\n          {Array.isArray(errors?.tag) &&\n            errors.tag.map((message, idx) => (\n              <div key={idx} className=\"text-danger mt-1\">\n                {message}\n              </div>\n            ))}\n        </Form.Group>\n      </PostForm>\n    </Container>\n  );\n}\n\nexport default UpdateNominationPage;\n","import React, { useEffect, useState } from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { useParams, useHistory, useLocation } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport RecognitionCard from \"../recognitions/RecognitionCard\";\nimport NominationCard from \"../nominations/NominationCard\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\nimport Avatar from \"../../components/Avatar\";\nimport profileStyles from \"../../styles/Profile.module.css\";\nimport styles from \"../../App.module.css\";\n\nfunction ProfilePage() {\n  // Ensure page scrolls to top on mount (especially important on mobile)\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  // Routing and Params\n  const { id } = useParams();\n  const history = useHistory();\n  const location = useLocation();\n  const [showUpdated, setShowUpdated] = useState(\n    new URLSearchParams(location.search).get(\"updated\")\n  );\n\n  // Context\n  const { currentUser } = useCurrentUser();\n\n  // Profile info\n  const [profile, setProfile] = useState(null);\n\n  // User-related posts\n  const [recognitions, setRecognitions] = useState([]);\n  const [nominations, setNominations] = useState([]);\n\n  // UI State\n  const [hasLoadedProfile, setHasLoadedProfile] = useState(false);\n  const [hasLoadedRecognitions, setHasLoadedRecognitions] = useState(false);\n  const [hasLoadedNominations, setHasLoadedNominations] = useState(false);\n\n  useEffect(() => {\n    if (showUpdated) {\n      const timer = setTimeout(() => setShowUpdated(false), 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showUpdated]);\n\n  // Fetch user profile\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axiosReq.get(`/user-profiles/${id}/`);\n        setProfile(data);\n      } catch (err) {\n        // console.error(\"Error fetching profile:\", err);\n      } finally {\n        setHasLoadedProfile(true);\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  // Fetch recognitions by user\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    axiosReq\n      .get(`/posts/?user__profile=${id}`)\n      .then((res) => setRecognitions(res.data.results))\n      .catch(() => {})\n      .finally(() => setHasLoadedRecognitions(true));\n  }, [id]);\n\n  // Fetch nominations by user\n  useEffect(() => {\n    if (id === \"undefined\") return;\n    axiosReq\n      .get(`/nominations/?nominator__profile=${id}`)\n      .then((res) => setNominations(res.data.results))\n      .catch(() => {})\n      .finally(() => setHasLoadedNominations(true));\n  }, [id]);\n\n  if (id === \"undefined\") {\n    return <LoadingIndicator message=\"Preparing your profile...\" />;\n  }\n\n  if (!hasLoadedProfile || !hasLoadedRecognitions || !hasLoadedNominations) {\n    return <LoadingIndicator message=\"Loading profile...\" />;\n  }\n\n  // Flags to detect missing core vs optional profile info\n  const isCoreInfoMissing =\n    !profile.first_name || !profile.last_name || !profile.department;\n  const isOptionalInfoMissing = !profile.presentation || !profile.profile_image;\n\n  return (\n    <>\n      {showUpdated && (\n        <div className=\"alert alert-success text-center mt-3\">\n          Your profile has been updated!\n        </div>\n      )}\n      <Container>\n        {/* User Profile Info */}\n        {profile && (\n          <div className={profileStyles.ProfileWrapper}>\n            <div className={profileStyles.Banner} />\n\n            {/* Avatar overlaps banner */}\n            <div className={profileStyles.AvatarWrapper}>\n              <Avatar\n                src={profile.profile_image}\n                first_name={profile.first_name}\n                last_name={profile.last_name}\n                username={profile.user}\n                size=\"lg\"\n              />\n            </div>\n\n            {/* Profile info + edit icon */}\n            <div className={profileStyles.ProfileDetails}>\n              <div className={profileStyles.NameRow}>\n                <div className={profileStyles.NameRow}>\n                  <h3>\n                    {profile.first_name || profile.last_name\n                      ? `${profile.first_name || \"\"} ${\n                          profile.last_name || \"\"\n                        }`.trim()\n                      : profile.user}\n                  </h3>\n                  {currentUser ? (\n                    profile.is_user_profile ? (\n                      <span\n                        className={profileStyles.EditIcon}\n                        onClick={() =>\n                          history.push(`/profiles/${profile.id}/edit`)\n                        }\n                      >\n                        <i className=\"fa-solid fa-pen\" />\n                      </span>\n                    ) : (\n                      <Button\n                        className={styles.YellowButton}\n                        onClick={() => {\n                          const hasFullName =\n                            profile.first_name || profile.last_name;\n                          const fullName = `${profile.first_name || \"\"} ${\n                            profile.last_name || \"\"\n                          }`.trim();\n                          const fallback = profile.user;\n\n                          const param = hasFullName\n                            ? `name=${encodeURIComponent(fullName)}`\n                            : `nominee_username=${encodeURIComponent(\n                                fallback\n                              )}`;\n\n                          history.push(\n                            `/nominations/create?nominee=${profile.user}&${param}`\n                          );\n                        }}\n                      >\n                        Nominate\n                      </Button>\n                    )\n                  ) : null}\n                </div>\n              </div>\n              {isCoreInfoMissing && (\n                <p className={profileStyles.IncompleteNote}>\n                  {\" \"}\n                  {profile.is_user_profile ? (\n                    <>\n                      Some profile details are missing. Contact HR to update\n                      your name or department.\n                    </>\n                  ) : (\n                    <>\n                      This profile is still under review and may be incomplete.\n                    </>\n                  )}\n                </p>\n              )}\n              {!isCoreInfoMissing &&\n                profile.is_user_profile &&\n                isOptionalInfoMissing && (\n                  <p className={profileStyles.IncompleteNote}>\n                    You can complete your profile by adding a picture or writing\n                    a short bio using the edit icon.\n                  </p>\n                )}\n              <p className={profileStyles.Department}>{profile.department}</p>\n              <p className={profileStyles.Bio}>\n                {profile.presentation || \"No bio yet.\"}\n              </p>\n            </div>\n          </div>\n        )}\n        <div className={profileStyles.TwoColumnFeed}>\n          <div className={profileStyles.FeedColumn}>\n            <div className={profileStyles.SectionTitlePurple}>Recognitions</div>\n            {recognitions.filter((post) => post.user === profile.user).length >\n            0 ? (\n              recognitions\n                .filter((post) => post.user === profile.user)\n                .map((post) => (\n                  <RecognitionCard\n                    key={`post-${post.id}`}\n                    {...post}\n                    setRecognitions={setRecognitions}\n                    onPostDelete={(deletedId) =>\n                      setRecognitions((prev) =>\n                        prev.filter((r) => r.id !== deletedId)\n                      )\n                    }\n                  />\n                ))\n            ) : (\n              <p className=\"text-center text-muted\">No recognitions yet.</p>\n            )}\n          </div>\n          <div className={profileStyles.FeedColumn}>\n            <div className={profileStyles.SectionTitleYellow}>Nominations</div>\n            {nominations.filter(\n              (nom) =>\n                nom.nominator === profile.user ||\n                nom.nominee_username === profile.user\n            ).length > 0 ? (\n              nominations\n                .filter(\n                  (nom) =>\n                    nom.nominator === profile.user ||\n                    nom.nominee_username === profile.user\n                )\n                .map((nom) => (\n                  <NominationCard\n                    key={`nom-${nom.id}`}\n                    {...nom}\n                    setPosts={setNominations}\n                    onPostDelete={(deletedId) =>\n                      setNominations((prevNoms) =>\n                        prevNoms.filter((n) => n.id !== deletedId)\n                      )\n                    }\n                  />\n                ))\n            ) : (\n              <p className=\"text-center text-muted\">No nominations yet.</p>\n            )}\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { Container, Form, OverlayTrigger, Tooltip } from \"react-bootstrap\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\nimport FormFooter from \"../../components/FormFooter\";\nimport formStyles from \"../../styles/PostForm.module.css\";\nimport LoadingIndicator from \"../../components/LoadingIndicator\";\n\nfunction EditProfileForm() {\n  // Routing & Navigation\n  const { id } = useParams();\n  const history = useHistory();\n\n  // Context\n  const setCurrentUser = useSetCurrentUser();\n\n  // Data State - Profile info\n  const [profile, setProfile] = useState(null);\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [presentation, setPresentation] = useState(\"\");\n\n  // Data State - Image\n  const [imageFile, setImageFile] = useState(null);\n  const [removeImage, setRemoveImage] = useState(false);\n\n  // UI State\n  const [hasLoaded, setHasLoaded] = useState(false);\n  const [errors, setErrors] = useState({});\n\n  // Fetch Profile on Mount\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const { data } = await axiosReq.get(`/user-profiles/${id}/`);\n        setProfile(data);\n        setFirstName(data.first_name);\n        setLastName(data.last_name);\n        setPresentation(data.presentation || \"\");\n        setHasLoaded(true);\n      } catch (err) {\n        // console.error('Error fetching profile:', err);\n        // TODO: add user feedback on error\n      }\n    };\n\n    fetchProfile();\n  }, [id]);\n\n  // Handle Form Submit\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Prepare form data\n    const formData = new FormData();\n    formData.append(\"presentation\", presentation);\n\n    if (removeImage) {\n      formData.append(\"profile_image\", \"\");\n    } else if (imageFile && typeof imageFile !== \"string\") {\n      formData.append(\"profile_image\", imageFile);\n    }\n\n    // Submit to API\n    try {\n      const { data } = await axiosReq.patch(\n        `/user-profiles/${profile.id}/`,\n        formData,\n        {\n          // PATCH 9: Explicit token header for profile update\n          headers: {\n            Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n            \"Content-Type\": \"multipart/form-data\",\n          },\n        }\n      );\n\n      setProfile(data);\n      setCurrentUser(\n        await axiosRes.get(\"/dj-rest-auth/user/\").then((res) => res.data)\n      );\n      history.push(`/profiles/${profile.id}?updated=true`);\n    } catch (err) {\n      setErrors(err.response?.data || {});\n    }\n  };\n\n  if (!hasLoaded) {\n    return (\n      <Container className=\"d-flex justify-content-center py-5\">\n        <LoadingIndicator message=\"Loading profile...\" />\n      </Container>\n    );\n  }\n\n  return (\n    <div className=\"container mt-4\">\n      <h2>Edit your profile</h2>\n      {profile ? (\n        <Form onSubmit={handleSubmit}>\n          <Form.Group\n            controlId=\"firstName\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  To update your first name, please contact your HR\n                  representative\n                </Tooltip>\n              }\n            >\n              <div className={formStyles.ReadOnlyWrapper}>\n                <Form.Control\n                  className={formStyles.ReadOnlyInput}\n                  type=\"text\"\n                  value={firstName}\n                  readOnly\n                  tabIndex={-1}\n                  placeholder=\"First Name\"\n                  aria-label=\"First Name (read-only)\"\n                />\n              </div>\n            </OverlayTrigger>\n          </Form.Group>\n          <Form.Group\n            controlId=\"lastName\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={\n                <Tooltip>\n                  To update your last name, please contact your HR\n                  representative\n                </Tooltip>\n              }\n            >\n              <div className={formStyles.ReadOnlyWrapper}>\n                <Form.Control\n                  className={formStyles.ReadOnlyInput}\n                  type=\"text\"\n                  value={lastName}\n                  readOnly\n                  tabIndex={-1}\n                  placeholder=\"Last Name\"\n                  aria-label=\"Last Name (read-only)\"\n                />\n              </div>\n            </OverlayTrigger>\n          </Form.Group>\n\n          <Form.Group\n            controlId=\"presentation\"\n            className={formStyles.FormGroupSpacing}\n          >\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={<Tooltip>Write a short bio about yourself</Tooltip>}\n            >\n              <Form.Control\n                as=\"textarea\"\n                rows={3}\n                value={presentation}\n                onChange={(e) => setPresentation(e.target.value)}\n                placeholder=\"Write something about yourself\"\n                aria-label=\"Short bio about yourself\"\n              />\n            </OverlayTrigger>\n            {Array.isArray(errors?.presentation) &&\n              errors.presentation.map((msg, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {msg}\n                </div>\n              ))}\n          </Form.Group>\n          <Form.Group className={formStyles.FormGroupSpacing}>\n            {/* Preview current image if exists */}\n            {profile.profile_image && (\n              <>\n                <img\n                  src={profile.profile_image}\n                  alt=\"Current profile\"\n                  className={formStyles.FormImagePreview}\n                />\n                <div className=\"d-flex align-items-center gap-2 mt-2 mb-3\">\n                  <Form.Check\n                    type=\"checkbox\"\n                    id=\"remove-profile-image\"\n                    label=\"\"\n                    aria-label=\"Remove profile image\"\n                    checked={removeImage}\n                    onChange={(e) => setRemoveImage(e.target.checked)}\n                  />\n                  <Form.Label htmlFor=\"remove-profile-image\" className=\"mb-0\">\n                    Remove profile image\n                  </Form.Label>\n                </div>\n              </>\n            )}\n            <OverlayTrigger\n              placement=\"top\"\n              overlay={<Tooltip>Upload a new profile image (optional)</Tooltip>}\n            >\n              <Form.Control\n                type=\"file\"\n                name=\"profile_image\"\n                onChange={(e) => setImageFile(e.target.files[0])}\n                aria-label=\"Upload new profile image\"\n              />\n            </OverlayTrigger>\n            <div className={formStyles.AllowedFormats}>\n              Allowed formats: jpg, jpeg, png\n            </div>\n            {Array.isArray(errors?.profile_image) &&\n              errors.profile_image.map((message, idx) => (\n                <div key={idx} className=\"text-danger mt-1\">\n                  {message}\n                </div>\n              ))}\n          </Form.Group>\n\n          <FormFooter submitText=\"Update\" onCancel={() => history.goBack()} />\n        </Form>\n      ) : (\n        <p>Loading profile...</p>\n      )}\n    </div>\n  );\n}\n\nexport default EditProfileForm;\n","export default __webpack_public_path__ + \"static/media/auth_pic.305084ff.jpeg\";","import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { Form, Button, Container, Alert } from \"react-bootstrap\";\nimport { Link, useHistory, useLocation } from \"react-router-dom\";\nimport { axiosReq } from \"../../api/axiosDefaults\";\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\nimport { setTokenTimestamp } from \"../../utils/utils\";\nimport authStyles from \"../../styles/AuthForm.module.css\";\nimport sharedStyles from \"../../App.module.css\";\nimport authPic from \"../../assets/auth_pic.jpeg\";\n\nfunction SignInForm() {\n  const location = useLocation();\n  const [showSuccess, setShowSuccess] = useState(\n    new URLSearchParams(location.search).get(\"registered\")\n  );\n\n  const [showLogout, setShowLogout] = useState(\n    new URLSearchParams(location.search).get(\"loggedOut\")\n  );\n\n  useEffect(() => {\n    if (showSuccess || showLogout) {\n      const timer = setTimeout(() => {\n        setShowSuccess(false);\n        setShowLogout(false);\n      }, 4000);\n      return () => clearTimeout(timer);\n    }\n  }, [showSuccess, showLogout]);\n\n  const setCurrentUser = useSetCurrentUser();\n  const [signInData, setSignInData] = useState({\n    username: \"\",\n    password: \"\",\n  });\n  const [loginErrors, setLoginErrors] = useState({});\n  const { username, password } = signInData;\n  const history = useHistory();\n\n  function handleChange(event) {\n    setSignInData({\n      ...signInData,\n      [event.target.name]: event.target.value,\n    });\n  }\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n    try {\n      const { data } = await axios.post(\"/dj-rest-auth/login/\", signInData);\n\n      // Store the tokens\n      localStorage.setItem(\"access_token\", data.access_token);\n      localStorage.setItem(\"refresh_token\", data.refresh_token);\n      // TOKEN FIX PATCH 5: Store refresh token expiry timestamp\n      setTokenTimestamp(data);\n\n      // Refetch user using token\n      const { data: userData } = await axiosReq.get(\"/dj-rest-auth/user/\");\n      setCurrentUser(userData);\n\n      // Redirect\n      history.push(\"/\");\n    } catch (err) {\n      setLoginErrors(err.response?.data || {});\n    }\n  }\n\n  return (\n    <>\n      {showSuccess && (\n        <Alert variant=\"success\" className=\"mt-3 text-center\">\n          Registration successful! Please log in.\n        </Alert>\n      )}\n      {showLogout && (\n        <Alert variant=\"info\" className=\"mt-3 text-center\">\n          You have been logged out.\n        </Alert>\n      )}\n      <Container className=\"d-flex justify-content-center\">\n        <div className={authStyles.gradient}>\n          <div className={authStyles.gradientOverlay}>\n            <div className={authStyles.splitBox}>\n              <div className={authStyles.formBox}>\n                <h2 className={authStyles.AuthTitle}>LOGIN</h2>\n                {Object.keys(loginErrors).length > 0 && (\n                  <div className={authStyles.ErrorBox}>\n                    <ul className=\"mb-0 ps-3\">\n                      {Object.values(loginErrors)\n                        .flat()\n                        .map((message, index) => (\n                          <li key={index}>{message}</li>\n                        ))}\n                    </ul>\n                  </div>\n                )}\n                <Form\n                  onSubmit={handleSubmit}\n                  className={authStyles.FormWrapper}\n                >\n                  <Form.Group\n                    controlId=\"username\"\n                    className={authStyles.FormGroupSpacing}\n                  >\n                    <Form.Label className=\"d-none\">Username</Form.Label>\n                    <Form.Control\n                      type=\"text\"\n                      placeholder=\"Username\"\n                      name=\"username\"\n                      value={username}\n                      onChange={handleChange}\n                    />\n                  </Form.Group>\n\n                  <Form.Group\n                    controlId=\"password\"\n                    className={authStyles.FormGroupSpacing}\n                  >\n                    <Form.Label className=\"d-none\">Password</Form.Label>\n                    <Form.Control\n                      type=\"password\"\n                      placeholder=\"Password\"\n                      name=\"password\"\n                      value={password}\n                      onChange={handleChange}\n                    />\n                  </Form.Group>\n\n                  <Button\n                    type=\"submit\"\n                    className={`${sharedStyles.YellowButton} ${authStyles.CenteredButton}`}\n                  >\n                    Submit\n                  </Button>\n                </Form>\n                <div className={authStyles.AuthLink}>\n                  OR\n                  <Link to=\"/register\" className={authStyles.AuthLinkHighlight}>\n                    Sign up!\n                  </Link>\n                </div>\n              </div>\n              <div className={authStyles.imageBox}>\n                <img\n                  src={authPic}\n                  alt=\"Sign in illustration\"\n                  className={authStyles.AuthImage}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n      </Container>\n    </>\n  );\n}\n\nexport default SignInForm;\n","export default __webpack_public_path__ + \"static/media/register_pic.769add72.jpg\";","import React, { useState } from \"react\";\r\nimport { Form, Button, Container } from \"react-bootstrap\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport authStyles from \"../../styles/AuthForm.module.css\";\r\nimport sharedStyles from \"../../App.module.css\";\r\nimport registerPic from \"../../assets/register_pic.jpg\";\r\n\r\nfunction SignUpForm() {\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const [errors, setErrors] = useState({});\r\n  const { username, password1, password2 } = signUpData;\r\n  const history = useHistory();\r\n\r\n  function handleChange(event) {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  async function handleSubmit(event) {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosReq.post(\"/dj-rest-auth/registration/\", signUpData);\r\n      history.push(\"/login?registered=true\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data || {});\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Container className=\"d-flex justify-content-center\">\r\n      <div className={authStyles.gradient}>\r\n        <div className={authStyles.gradientOverlay}>\r\n          <div className={authStyles.splitBox}>\r\n            <div className={authStyles.formBox}>\r\n              <h2 className={authStyles.AuthTitle}>Register</h2>\r\n              <Form onSubmit={handleSubmit} className={authStyles.FormWrapper}>\r\n                {Object.keys(errors).length > 0 && (\r\n                  <div className={authStyles.ErrorBox}>\r\n                    <ul className=\"mb-0 ps-3\">\r\n                      {Object.values(errors)\r\n                        .flat()\r\n                        .map((message, index) => (\r\n                          <li key={index}>{message}</li>\r\n                        ))}\r\n                    </ul>\r\n                  </div>\r\n                )}\r\n                <Form.Group\r\n                  controlId=\"username\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Username</Form.Label>\r\n                  <Form.Control\r\n                    type=\"text\"\r\n                    placeholder=\"Username\"\r\n                    name=\"username\"\r\n                    value={username}\r\n                    onChange={handleChange}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group\r\n                  controlId=\"password1\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    name=\"password1\"\r\n                    value={password1}\r\n                    onChange={handleChange}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Form.Group\r\n                  controlId=\"password2\"\r\n                  className={authStyles.FormGroupSpacing}\r\n                >\r\n                  <Form.Label className=\"d-none\">Confirm Password</Form.Label>\r\n                  <Form.Control\r\n                    type=\"password\"\r\n                    placeholder=\"Confirm Password\"\r\n                    name=\"password2\"\r\n                    value={password2}\r\n                    onChange={handleChange}\r\n                  />\r\n                </Form.Group>\r\n\r\n                <Button\r\n                  type=\"submit\"\r\n                  className={`${sharedStyles.YellowButton} ${authStyles.CenteredButton}`}\r\n                >\r\n                  Submit\r\n                </Button>\r\n              </Form>\r\n              <div className={authStyles.AuthLink}>\r\n                OR\r\n                <Link to=\"/login\" className={authStyles.AuthLinkHighlight}>\r\n                  Log In!\r\n                </Link>\r\n              </div>\r\n            </div>\r\n            <div className={authStyles.imageBox}>\r\n              <img\r\n                src={registerPic}\r\n                alt=\"Register illustration\"\r\n                className={authStyles.AuthImage}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default SignUpForm;\r\n","import Container from 'react-bootstrap/Container';\nimport { Route, Switch } from 'react-router-dom';\nimport styles from './App.module.css';\nimport NavBar from './components/NavBar';\nimport { useCurrentUser } from './contexts/CurrentUserContext';\n\n// Pages\nimport HomeFeedPage from './pages/home/HomeFeedPage';\nimport CreateRecognitionPage from './pages/recognitions/CreateRecognitionPage';\nimport RecognitionDetailPage from './pages/recognitions/RecognitionDetailPage';\nimport UpdateRecognitionPage from './pages/recognitions/UpdateRecognitionPage';\nimport CreateNominationPage from './pages/nominations/CreateNominationPage';\nimport NominationDetailPage from './pages/nominations/NominationDetailPage';\nimport UpdateNominationPage from './pages/nominations/UpdateNominationPage';\nimport ProfilePage from './pages/profiles/ProfilePage';\nimport EditProfileForm from './pages/profiles/EditProfileForm';\nimport SignInForm from './pages/auth/SignInForm';\nimport SignUpForm from './pages/auth/SignUpForm';\n\nfunction App() {\n  const { currentUserLoaded } = useCurrentUser();\n\n  if (!currentUserLoaded) return null; // prevents broken rendering\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          <Route exact path=\"/\" component={HomeFeedPage} />\n\n          {/* Create, Update and Detail for Recognitions */}\n          <Route\n            exact\n            path=\"/recognitions/create\"\n            component={CreateRecognitionPage}\n          />\n          <Route\n            exact\n            path=\"/recognitions/:id\"\n            component={RecognitionDetailPage}\n          />\n          <Route\n            exact\n            path=\"/recognitions/:id/edit\"\n            component={UpdateRecognitionPage}\n          />\n\n          {/* Create, Update and Detail for Nominations */}\n          <Route\n            exact\n            path=\"/nominations/create\"\n            component={CreateNominationPage}\n          />\n          <Route\n            exact\n            path=\"/nominations/:id\"\n            component={NominationDetailPage}\n          />\n          <Route\n            exact\n            path=\"/nominations/:id/edit\"\n            component={UpdateNominationPage}\n          />\n\n          {/* User Profile */}\n          <Route exact path=\"/profiles/:id\" component={ProfilePage} />\n          <Route exact path=\"/profiles/:id/edit\" component={EditProfileForm} />\n\n          {/* Auth */}\n          <Route exact path=\"/login\" component={SignInForm} />\n          <Route exact path=\"/register\" component={SignUpForm} />\n\n          {/* 404 fallback */}\n          <Route render={() => <p>Page not found</p>} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({\n      getCLS, getFID, getFCP, getLCP, getTTFB,\n    }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <CurrentUserProvider>\n        <App />\n      </CurrentUserProvider>\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"FeedToggleButtons\":\"HomeFeedPage_FeedToggleButtons__2iujI\",\"FeedButton\":\"HomeFeedPage_FeedButton__TzTd8\",\"FeedToggleActive\":\"HomeFeedPage_FeedToggleActive__1r3Ap\",\"FeedToggleInactive\":\"HomeFeedPage_FeedToggleInactive__1n6t-\",\"FeedContent\":\"HomeFeedPage_FeedContent__2yePL\",\"PostCard\":\"HomeFeedPage_PostCard__KOPm-\",\"SearchFilterBlock\":\"HomeFeedPage_SearchFilterBlock__15nv6\",\"FilterInput\":\"HomeFeedPage_FilterInput__2SRFV\",\"FilterSelect\":\"HomeFeedPage_FilterSelect__Dljfr\",\"PersonItem\":\"HomeFeedPage_PersonItem__24LIT\",\"PersonContent\":\"HomeFeedPage_PersonContent__3kTEO\",\"DesktopOnly\":\"HomeFeedPage_DesktopOnly__1EZIE\",\"MobileOnly\":\"HomeFeedPage_MobileOnly__3q6H7\",\"row\":\"HomeFeedPage_row__fzNUj\",\"SidebarWrapper\":\"HomeFeedPage_SidebarWrapper__3D4BG\",\"PeopleList\":\"HomeFeedPage_PeopleList__1Ewhz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileWrapper\":\"Profile_ProfileWrapper__2hX_C\",\"Banner\":\"Profile_Banner__1TXeK\",\"TwoColumnFeed\":\"Profile_TwoColumnFeed__1Kev4\",\"FeedColumn\":\"Profile_FeedColumn__1daGe\",\"CompanyName\":\"Profile_CompanyName__3xp_1\",\"AvatarWrapper\":\"Profile_AvatarWrapper__1k8ru\",\"NameRow\":\"Profile_NameRow__1yZFR\",\"EditIcon\":\"Profile_EditIcon__Du4pB\",\"ProfileDetails\":\"Profile_ProfileDetails__Z1h8m\",\"IncompleteNote\":\"Profile_IncompleteNote__1jg-n\",\"Department\":\"Profile_Department__281vj\",\"Bio\":\"Profile_Bio__3Zlhj\",\"SectionTitlePurple\":\"Profile_SectionTitlePurple__HDOQ6\",\"SectionTitleYellow\":\"Profile_SectionTitleYellow__1YogP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__1lbrG\",\"Main\":\"App_Main__1eJsZ\",\"YellowButton\":\"App_YellowButton__1Qzej\",\"BlueButton\":\"App_BlueButton__2jV1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CommentSection\":\"Comment_CommentSection__3CGtR\",\"SingleComment\":\"Comment_SingleComment__37rPz\",\"CommentAuthor\":\"Comment_CommentAuthor__3lWSc\",\"CommentText\":\"Comment_CommentText__ttCTQ\",\"CommentDate\":\"Comment_CommentDate__1Z1_P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"suggestionBox\":\"PeopleSearchBar_suggestionBox__37Xwh\",\"suggestionItem\":\"PeopleSearchBar_suggestionItem__28X7m\",\"FullWidthNomineeSearch\":\"PeopleSearchBar_FullWidthNomineeSearch__2-fAC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__3uD0u\",\"AvatarFallback\":\"Avatar_AvatarFallback__1vL5U\",\"sm\":\"Avatar_sm__203uy\",\"md\":\"Avatar_md__xFaTA\",\"lg\":\"Avatar_lg__2Ddpb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownToggle\":\"MoreDropdown_DropdownToggle__h1s3T\",\"DropdownItem\":\"MoreDropdown_DropdownItem__m5TH-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"LoaderWrapper\":\"LoadingIndicator_LoaderWrapper__3GUK2\",\"Spinner\":\"LoadingIndicator_Spinner__1L6aF\",\"spin\":\"LoadingIndicator_spin__3hhrF\",\"Message\":\"LoadingIndicator_Message__2bNaE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"CardWrapper\":\"PostCard_CardWrapper__1aPfU\",\"PostHeaderWrapper\":\"PostCard_PostHeaderWrapper__368M3\",\"HeaderLeft\":\"PostCard_HeaderLeft__1-KZy\",\"AvatarWithName\":\"PostCard_AvatarWithName__1mwHj\",\"PostTitle\":\"PostCard_PostTitle__amYVY\",\"PostContent\":\"PostCard_PostContent__1mF67\",\"PostImage\":\"PostCard_PostImage__2S_6F\",\"ViewFullPostWrapper\":\"PostCard_ViewFullPostWrapper__6ZfRw\",\"InteractiveTextLink\":\"PostCard_InteractiveTextLink__3ond2\",\"InteractiveNameLink\":\"PostCard_InteractiveNameLink__2hlHX\",\"PostFooter\":\"PostCard_PostFooter__3RbvB\",\"PostChildren\":\"PostCard_PostChildren__7MF44\",\"ActionItem\":\"PostCard_ActionItem__1_YXt\",\"Clickable\":\"PostCard_Clickable__3KGDz\",\"DisabledIcon\":\"PostCard_DisabledIcon__35ZDD\",\"LoginToComment\":\"PostCard_LoginToComment__3t1Dq\",\"TagSection\":\"PostCard_TagSection__32VHi\",\"Tag\":\"PostCard_Tag__2UN8U\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Navbar\":\"NavBar_Navbar__1-xmk\",\"nav-link\":\"NavBar_nav-link__3OyqH\"};"],"sourceRoot":""}